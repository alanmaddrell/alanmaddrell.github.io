this.Element&&function(t){t.matches=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.msMatchesSelector||function(t){for(var e=this,n=(e.parentNode||e.document).querySelectorAll(t),o=-1;n[++o]&&n[o]!=e;);return!!n[o]}}(Element.prototype),this.Element&&function(t){t.closest=t.closest||function(t){for(var e=this;e.matches&&!e.matches(t);)e=e.parentNode;return e.matches?e:null}}(Element.prototype),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var n=e||0,o=this.length;n<o;n++)if(this[n]===t)return n;return-1}),function(t){"use strict";var s=t.GOVUK||{};s.Modules=s.Modules||{},s.Modules.AutoTrackEvent=function(){this.start=function(t){var e={nonInteraction:1},n=t.data("track-category"),o=t.data("track-action"),i=t.data("track-label"),r=t.data("track-value");"string"==typeof i&&(e.label=i),(r||0===r)&&(e.value=r),s.analytics&&s.analytics.trackEvent&&s.analytics.trackEvent(n,o,e)}},t.GOVUK=s}(window),function(){"use strict";window.GOVUK=window.GOVUK||{};var i={essential:!0,settings:!1,usage:!1,campaigns:!1},r={cookies_policy:"essential",seen_cookie_message:"essential",cookie_preferences_set:"essential",cookies_preferences_set:"essential","_email-alert-frontend_session":"essential",licensing_session:"essential",govuk_contact_referrer:"essential",multivariatetest_cohort_coronavirus_extremely_vulnerable_rate_limit:"essential",dgu_beta_banner_dismissed:"settings",global_bar_seen:"settings",govuk_browser_upgrade_dismisssed:"settings",govuk_not_first_visit:"settings",analytics_next_page_call:"usage",_ga:"usage",_gid:"usage",_gat:"usage","JS-Detection":"usage",TLSversion:"usage"};window.GOVUK.cookie=function(t,e,n){return void 0!==e?!1===e||null===e?window.GOVUK.setCookie(t,"",{days:-1}):(void 0===n&&(n={days:30}),window.GOVUK.setCookie(t,e,n)):window.GOVUK.getCookie(t)},window.GOVUK.setDefaultConsentCookie=function(){window.GOVUK.setConsentCookie(i)},window.GOVUK.approveAllCookieTypes=function(){var t={essential:!0,settings:!0,usage:!0,campaigns:!0};window.GOVUK.setCookie("cookies_policy",JSON.stringify(t),{days:365})},window.GOVUK.getConsentCookie=function(){var t,e=window.GOVUK.cookie("cookies_policy");if(!e)return null;try{t=JSON.parse(e)}catch(n){return null}return"object"!=typeof t&&null!==t&&(t=JSON.parse(t)),t},window.GOVUK.setConsentCookie=function(t){var e=window.GOVUK.getConsentCookie();for(var n in e||(e=JSON.parse(JSON.stringify(i))),t)if(e[n]=t[n],!t[n])for(var o in r)r[o]===n&&window.GOVUK.deleteCookie(o);window.GOVUK.setCookie("cookies_policy",JSON.stringify(e),{days:365})},window.GOVUK.checkConsentCookieCategory=function(t,e){var n=window.GOVUK.getConsentCookie();if(!n&&r[t])return!0;n=window.GOVUK.getConsentCookie();try{return n[e]}catch(o){return console.error(o),!1}},window.GOVUK.checkConsentCookie=function(t,e){if("cookies_policy"===t||null===e||!1===e)return!0;if(t.match("^govuk_surveySeen")||t.match("^govuk_taken"))return window.GOVUK.checkConsentCookieCategory(t,"settings");if(r[t]){var n=r[t];return window.GOVUK.checkConsentCookieCategory(t,n)}return!1},window.GOVUK.setCookie=function(t,e,n){if(window.GOVUK.checkConsentCookie(t,e)){void 0===n&&(n={});var o=t+"="+e+"; path=/";if(n.days){var i=new Date;i.setTime(i.getTime()+24*n.days*60*60*1e3),o=o+"; expires="+i.toGMTString()}"https:"===document.location.protocol&&(o+="; Secure"),document.cookie=o}},window.GOVUK.getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0,i=n.length;o<i;o++){for(var r=n[o];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return decodeURIComponent(r.substring(e.length))}return null},window.GOVUK.getCookieCategory=function(t){return r[t]},window.GOVUK.deleteCookie=function(t){window.GOVUK.cookie(t,null),window.GOVUK.cookie(t)&&(document.cookie=t+"=;expires="+new Date+";",document.cookie=t+"=;expires="+new Date+";domain="+window.location.hostname+";path=/")},window.GOVUK.deleteUnconsentedCookies=function(){var t=window.GOVUK.getConsentCookie();for(var e in t)if(!t[e])for(var n in r)r[n]===e&&window.GOVUK.deleteCookie(n)}}(window),function(t){"use strict";window.GOVUK=window.GOVUK||{},window.GOVUK.getCurrentLocation=function(){return t.location}}(window),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define("GOVUKFrontend",e):e()}(0,function(){"use strict";(function(){var a,c,l,u;"defineProperty"in Object&&function(){try{var t={};return Object.defineProperty(t,"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),l="Getters & setters cannot be defined on this javascript engine",u="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function d(t,e,n){if(a&&(t===window||t===document||t===Element.prototype||t instanceof Element))return a(t,e,n);if(null===t||!(t instanceof Object||"object"==typeof t))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var o=String(e),i="value"in n||"writable"in n,r="get"in n&&typeof n.get,s="set"in n&&typeof n.set;if(r){if("function"!==r)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(u);Object.__defineGetter__.call(t,o,n.get)}else t[o]=n.value;if(s){if("function"!==s)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(u);Object.__defineSetter__.call(t,o,n.set)}return"value"in n&&(t[o]=n.value),t})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(f){var t,e,n;"DOMTokenList"in this&&(!("classList"in(t=document.createElement("x")))||!t.classList.toggle("x",!1)&&!t.className)||("DOMTokenList"in(e=this)&&e.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(e.DOMTokenList=function(){var i=!0,n=function(t,e,n,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===i||!!o,get:n}):t.__defineGetter__(e,n)};try{n({},"support")}catch(t){i=!1}return function(i,r){var s=this,a=[],c={},l=0,t=0,e=function(t){n(s,t,function(){return d(),a[t]},!1)},u=function(){if(t<=l)for(;t<l;++t)e(t)},d=function(){var t,e,n=arguments,o=/\s+/;if(n.length)for(e=0;e<n.length;++e)if(o.test(n[e]))throw(t=new SyntaxError('String "'+n[e]+'" contains an invalid character')).code=5,t.name="InvalidCharacterError",t;for(""===(a="object"==typeof i[r]?(""+i[r].baseVal).replace(/^\s+|\s+$/g,"").split(o):(""+i[r]).replace(/^\s+|\s+$/g,"").split(o))[0]&&(a=[]),c={},e=0;e<a.length;++e)c[a[e]]=!0;l=a.length,u()};return d(),n(s,"length",function(){return d(),l}),s.toLocaleString=s.toString=function(){return d(),a.join(" ")},s.item=function(t){return d(),a[t]},s.contains=function(t){return d(),!!c[t]},s.add=function(){d.apply(s,t=arguments);for(var t,e,n=0,o=t.length;n<o;++n)e=t[n],c[e]||(a.push(e),c[e]=!0);l!==a.length&&(l=a.length>>>0,"object"==typeof i[r]?i[r].baseVal=a.join(" "):i[r]=a.join(" "),u())},s.remove=function(){d.apply(s,t=arguments);for(var t,e={},n=0,o=[];n<t.length;++n)e[t[n]]=!0,delete c[t[n]];for(n=0;n<a.length;++n)e[a[n]]||o.push(a[n]);l=(a=o).length>>>0,"object"==typeof i[r]?i[r].baseVal=a.join(" "):i[r]=a.join(" "),u()},s.toggle=function(t,e){return d.apply(s,[t]),f!==e?e?(s.add(t),!0):(s.remove(t),!1):c[t]?(s.remove(t),!1):(s.add(t),!0)},s}}()),"classList"in(n=document.createElement("span"))&&(n.classList.toggle("x",!1),n.classList.contains("x")&&(n.classList.constructor.prototype.toggle=function i(t,e){var n=e;if(n!==f)return this[(n=!!n)?"add":"remove"](t),n;var o=!this.contains(t);return this[o?"add":"remove"](t),o})),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a","b"),!t.classList.contains("b"))){var o=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)o.call(this,t[n])}}}(),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a"),t.classList.add("b"),t.classList.remove("a","b"),t.classList.contains("b"))){var o=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)o.call(this,t[n])}}}())}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Element"in this&&"HTMLElement"in this||function(){function t(){return r--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(l(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,n=document.appendChild(document.createElement("body")),o=n.appendChild(document.createElement("iframe")).contentWindow.document,a=Element.prototype=o.appendChild(o.createElement("*")),c={},l=function(t,e){var n,o,i,r=t.childNodes||[],s=-1;if(1===t.nodeType&&t.constructor!==Element)for(n in t.constructor=Element,c)o=c[n],t[n]=o;for(;i=e&&r[++s];)l(i,e);return t},u=document.getElementsByTagName("*"),i=document.createElement,r=100;a.attachEvent("onpropertychange",function(t){for(var e,n=t.propertyName,o=!c.hasOwnProperty(n),i=a[n],r=c[n],s=-1;e=u[++s];)1===e.nodeType&&(o||e[n]===r)&&(e[n]=i);c[n]=i}),a.constructor=Element,a.hasAttribute||(a.hasAttribute=function s(t){return null!==this.getAttribute(t)}),t()||(document.onreadystatechange=t,e=setInterval(t,25)),document.createElement=function d(t){var e=i(String(t).toLowerCase());return l(e)},document.removeChild(n)}else window.HTMLElement=window.Element}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(t){var u=!0,d=function(t,e,n,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===u||!!o,get:n}):t.__defineGetter__(e,n)};try{d({},"support")}catch(e){u=!1}var f=function(t,c,l){d(t.prototype,c,function(){var t,e=this,n="__defineGetter__DEFINE_PROPERTY"+c;if(e[n])return t;if(!(e[n]=!0)===u){for(var o,i=f.mirror||document.createElement("div"),r=i.childNodes,s=r.length,a=0;a<s;++a)if(r[a]._R===e){o=r[a];break}o||(o=i.appendChild(document.createElement("div"))),t=DOMTokenList.call(o,e,l)}else t=new DOMTokenList(e,l);return d(e,c,function(){return t}),delete e[n],t},!0)};f(t.Element,"classList","className"),f(t.HTMLElement,"classList","className"),f(t.HTMLLinkElement,"relList","rel"),f(t.HTMLAnchorElement,"relList","rel"),f(t.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{})}),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t,e){for(var n in this.$module=t[0],this.options={outOf:65,applyOnInit:!0,toggleText:"Toggle between chart and table",autoOutdent:!1,outdentAll:!1,toggleAfter:!1,returnReference:!1},e)this.options[n]=e[n];this.detectIEVersion(),this.ENABLED=!(this.ie&&this.ie<8),this.$table=t,this.$graph=document.createElement("div"),this.$graph.setAttribute("aria-hidden","true"),this.$graph.setAttribute("class",this.$table.className),this.$graph.classList.add("mc-chart"),this.options.stacked=this.$table.classList.contains("mc-stacked"),this.options.negative=this.$table.classList.contains("mc-negative");var o=2<this.$table.querySelectorAll("tbody tr")[0].querySelectorAll("td").length;if(this.options.multiple=!this.options.stacked&&(this.$table.classList.contains("mc-multiple")||o),this.options.autoOutdent=this.options.autoOutdent||this.$table.classList.contains("mc-auto-outdent"),this.options.outdentAll=this.options.outdentAll||this.$table.classList.contains("mc-outdented"),this.options.multiple&&this.$graph.classList.add("mc-multiple"),this.options.hasCaption=!!this.$table.querySelectorAll("caption").length,this.ENABLED&&(this.apply(),this.options.applyOnInit||this.toggleLink.click()),this.options.returnReference)return this},e.prototype.detectIEVersion=function(){this.ie=function(){for(var t,e=3,n=document.createElement("div"),o=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",e<10&&o[0];);return 4<e?e:t}()},e.prototype.apply=function(){this.ENABLED&&(this.constructChart(),this.addClassesToHeader(),this.applyWidths(),this.insert(),this.$table.classList.add("visually-hidden"),this.applyOutdent())},e.prototype.construct={},e.prototype.construct.thead=function(){var t=document.createElement("div");t.classList.add("mc-thead");var e=document.createElement("div");e.classList.add("mc-tr");for(var n="",o=this.$table.querySelectorAll("th"),i=0;i<o.length;i++)n+='<div class="mc-th">',n+=o[i].innerHTML,n+="</div>";return e.innerHTML=n,t.appendChild(e),t},e.prototype.construct.tbody=function(){var t=document.createElement("div");t.classList.add("mc-tbody");for(var e=this.$table.querySelectorAll("tbody tr"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("mc-tr");for(var i="",r=e[n].querySelectorAll("td"),s=0;s<r.length;s++)i+='<div class="mc-td">',i+=r[s].innerHTML,i+="</div>";o.innerHTML=i,t.appendChild(o)}return t},e.prototype.construct.caption=function(){return this.$table.querySelector("caption").cloneNode(!0)},e.prototype.construct.toggleLink=function(t){var e=document.createElement("a");return e.setAttribute("href","#"),e.classList.add("mc-toggle-link"),e.innerHTML=t,e.setAttribute("aria-hidden","true"),e},e.prototype.addToggleClick=function(){var e=this;this.toggleLink.addEventListener("click",function(t){t.preventDefault(),e.$graph.classList.toggle("visually-hidden"),e.$table.classList.toggle("visually-hidden")})},e.prototype.constructChart=function(){var t=this.construct.thead.call(this),e=this.construct.tbody.call(this);if(this.toggleLink=this.construct.toggleLink(this.options.toggleText),this.addToggleClick(this.toggleLink),this.options.hasCaption){var n=this.construct.caption.call(this);this.$graph.appendChild(n)}this.options.toggleAfter?this.$table.insertAdjacentElement("afterend",this.toggleLink):this.$table.insertAdjacentElement("beforebegin",this.toggleLink),this.$graph.appendChild(t),this.$graph.appendChild(e)},e.prototype.utils={isFloat:function(t){return!isNaN(parseFloat(t))},stripValue:function(t){var e=new RegExp("\\,|\xa3|%|[a-z]","gi");return t.replace(e,"")},returnMax:function(t){for(var e=0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return e},isNegative:function(t){return t<0}},e.prototype.addClassesToHeader=function(){var t=this.$graph.querySelectorAll(".mc-th"),e=t.length;this.options.stacked&&(t[e-1].classList.add("mc-stacked-header","mc-header-total"),e-=1);for(var n=1;n<e;n++)t[n].classList.add("mc-key-header"),t[n].classList.contains("mc-stacked-header")||t[n].classList.add("mc-key-"+n)},e.prototype.calculateMaxWidth=function(){for(var t=[],e=0,n=this.$graph.querySelectorAll(".mc-tr"),o=0;o<n.length;o++){for(var i=n[o],r=i.querySelectorAll(".mc-td"),s=[],a=1;a<r.length;a++)s.push(r[a]);var c=s.length;if(c){this.options.stacked&&(s[c-1].classList.add("mc-stacked-total"),c-=1);var l=i.querySelector(".mc-td");l&&l.classList.add("mc-key-cell");for(var u=0,d=0;d<c;d++){var f=s[d];f.classList.add("mc-bar-cell"),f.classList.add("mc-bar-"+(d+1));var p=this.utils.stripValue(f.innerText);if(this.utils.isFloat(p)){var h=parseFloat(p,10),m=Math.abs(h);0===h&&f.classList.add("mc-bar-zero"),this.options.negative&&(this.utils.isNegative(h)?(f.classList.add("mc-bar-negative"),e<m&&(e=m)):f.classList.add("mc-bar-positive")),h=m,this.options.stacked?u+=h:(u=h,t.push(h))}}}this.options.stacked&&t.push(u)}var g={};return g.max=parseFloat(this.utils.returnMax(t),10),g.single=parseFloat(this.options.outOf/g.max,10),this.options.negative&&(g.marginLeft=parseFloat(e,10)*g.single,g.maxNegative=parseFloat(e,10)),g},e.prototype.applyWidths=function(){this.dimensions=this.calculateMaxWidth();for(var t=this.$graph.querySelectorAll(".mc-tr"),e=0;e<t.length;e++)for(var n=t[e].querySelectorAll(".mc-bar-cell"),o=0;o<n.length;o++){var i=n[o],r=parseFloat(this.utils.stripValue(i.innerText),10),s=r*this.dimensions.single,a=Math.abs(r),c=Math.abs(s);if(this.options.negative)if(i.classList.contains("mc-bar-positive"))i.style.marginLeft=this.dimensions.marginLeft+"%";else if(a<this.dimensions.maxNegative){var l=(this.dimensions.maxNegative-a)*this.dimensions.single;i.style.marginLeft=l+"%"}i.innerHTML="<span>"+i.innerHTML+"</span>",i.style.width=c+"%"}},e.prototype.insert=function(){this.$table.insertAdjacentElement("afterend",this.$graph)},e.prototype.applyOutdent=function(){for(var t=this.$graph.querySelectorAll(".mc-bar-cell"),e=0;e<t.length;e++){var n=t[e],o=parseFloat(this.utils.stripValue(n.innerText),10),i=n.querySelector("span"),r=n.querySelector("span").offsetWidth+5,s=n.offsetWidth;this.options.stacked?s<r&&0<o&&n.classList.add("mc-value-overflow"):(0===o&&n.classList.add("mc-bar-outdented"),this.options.autoOutdent&&s<=r||this.options.outdentAll?(n.classList.add("mc-bar-outdented"),i.style.marginLeft="100%",i.style.display="inline-block"):n.classList.add("mc-bar-indented"))}},t.MagnaCharta=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},function(s){"use strict";var t=function(t){this.$element=t};t.prototype.init=function(){for(var t=this.$element.querySelectorAll(".js-barchart-table"),e=[],n=0;n<t.length;n++){var o=t[n].className;-1===o.indexOf("mc-chart")&&-1===o.indexOf("js-barchart-table-init")&&e.push(t[n])}for(var i=0;i<e.length;i++){var r=e[i];(new s.Modules.MagnaCharta).start(r,{toggleText:"Change between chart and table"}),r.className=r.className+" js-barchart-table-init"}},s.GovspeakBarchartEnhancement=t}(window.GOVUK,window.jQuery),function(){"use strict";window.GOVUK=window.GOVUK||{};var t=window.GOVUK||{},c=function(t){this.$element=t};c.prototype.init=function(){if(this.campaignCookiesAllowed()){var t=this.$element.querySelectorAll('a[href*="youtube.com"], a[href*="youtu.be"]');0<t.length&&c.insertApiScript();for(var e=0;e<t.length;++e){var n=t[e],o=n.getAttribute("href"),i=n.hasAttribute("data-youtube-player-analytics"),r={link:n};if(i&&(r.tracking={hasTracking:i,category:n.getAttribute("data-youtube-player-analytics-category")}),0<=o.indexOf("/live_stream")){var s=c.parseLivestream(o);!this.hasDisabledEmbed(n)&&s&&(r.channel=s,this.setupVideo(r))}else{var a=c.parseVideoId(o);!this.hasDisabledEmbed(n)&&a&&(r.videoId=a,this.setupVideo(r))}}}},c.prototype.hasDisabledEmbed=function(t){return"off"===t.getAttribute("data-youtube-player")},c.prototype.setupVideo=function(t){var e=c.nextId(),n=t.link,o=t.videoId?t.videoId:t.channel,i=n.parentNode,r=i.parentNode,s=document.createElement("div");s.className+="gem-c-govspeak__youtube-video",s.innerHTML='<span id="'+e+'" data-video-id="'+o+'"></span>',t.title=n.textContent,r.replaceChild(s,i),this.insertVideo(e,t)},c.prototype.insertVideo=function(t,r){var e="",n="";r.channel?(e=r.channel,n="live_stream"):n=r.videoId;var o=function(){new window.YT.Player(t,{videoId:n,host:"https://www.youtube-nocookie.com",playerVars:{enablejsapi:1,origin:window.location.origin,rel:0,disablekb:1,modestbranding:1,channel:e},events:{onReady:function(t){var e=r.title;t.target.f.title=e+" (video)"},onStateChange:function(t){var e=t.data,n=t.target,o={"-1":"VideoUnstarted",0:"VideoEnded",1:"VideoPlaying",2:"VideoPaused",3:"VideoBuffering",5:"VideoCued"};if(o[e]&&r.tracking&&r.tracking.hasTracking&&window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent){var i={category:r.tracking.category,action:o[e],label:{transport:"beacon",label:n.getVideoData&&n.getVideoData().title}};window.GOVUK.analytics.trackEvent(i.category,i.action,i.label)}}}})};o=o.bind(this),c.playerApiReady?o.call():c.queuedInserts.push(o)},c.prototype.campaignCookiesAllowed=function(){var t=window.GOVUK.getConsentCookie();return null===t||t.campaigns},c.nextId=function(){return this.embedCount=this.embedCount||0,this.embedCount+=1,"youtube-"+this.embedCount},c.insertApiScript=function(){if(!this.apiScriptInserted){var t=document.createElement("script");t.src="https://www.youtube.com/player_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),this.apiScriptInserted=!0}},c.parseLivestream=function(t){var e=t.match(/channel=([^&]*)/);if(e)return e[1]},c.parseVideoId=function(t){var e;if(-1<t.indexOf("youtube.com")){var n={};if(1===(e=t.split("?")).length)return;e=e[1].split("&");for(var o=0;o<e.length;o++){var i=e[o].split("=");n[i[0]]=i[1]}return n.v}if(-1<t.indexOf("youtu.be"))return(e=t.split("/")).pop()},c.apiScriptInserted=!1,c.playerApiReady=!1,c.queuedInserts=[],window.onYouTubePlayerAPIReady=function(){c.playerApiReady=!0;for(var t=0;t<c.queuedInserts.length;t++)c.queuedInserts[t].call()},t.GovspeakYoutubeLinkEnhancement=c}(),function(){"use strict";if(document.querySelectorAll&&document.addEventListener){var t,e,n=document.querySelectorAll(".js-header-toggle");for(t=0,e=n.length;t<e;t++)n[t].addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href")?document.getElementById(this.getAttribute("href").substr(1)):document.getElementById(this.getAttribute("data-search-toggle-for")),n=e.getAttribute("class")||"",o=this.getAttribute("class")||"",i=o.match("search-toggle");-1!==n.indexOf("js-visible")?e.setAttribute("class",n.replace(/(^|\s)js-visible(\s|$)/,"")):e.setAttribute("class",n+" js-visible"),-1!==o.indexOf("js-visible")?(this.setAttribute("class",o.replace(/(^|\s)js-visible(\s|$)/,"")),i&&(this.innerText="Show search")):(this.setAttribute("class",o+" js-visible"),i&&(this.innerText="Hide search")),this.setAttribute("aria-expanded","true"!==this.getAttribute("aria-expanded")),e.setAttribute("aria-hidden","false"===e.getAttribute("aria-hidden"))})}}.call(this),function(t){"use strict";var o=t.jQuery,i=t.GOVUK||{},e=function(t,e){this.$el=o(t),this.$extraLinks=this.$el.find("li:not("+e+")"),1<this.$extraLinks.length&&(this.addToggleLink(),this.hideExtraLinks())};e.prototype={toggleText:function(){return 1<this.$extraLinks.length?"+"+this.$extraLinks.length+" others":"+"+this.$extraLinks.length+" other"},addToggleLink:function(){this.$toggleLink=o('<a href="#">'+this.toggleText()+"</a>"),this.$toggleLink.click(o.proxy(this.toggleLinks,this)),this.$toggleLink.insertAfter(this.$el)},toggleLinks:function(t){t.preventDefault(),this.$toggleLink.remove(),this.showExtraLinks()},hideExtraLinks:function(){this.$extraLinks.addClass("visuallyhidden"),o(window).trigger("govuk.pageSizeChanged")},showExtraLinks:function(){this.$extraLinks.removeClass("visuallyhidden"),o(window).trigger("govuk.pageSizeChanged")}},i.PrimaryList=e,i.primaryLinks={init:function(n){o(n).parent().each(function(t,e){new i.PrimaryList(e,n)})}},t.GOVUK=i}(window),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.$module.trackChange=this.trackChange.bind(this),this.$module.fireTrackingChange=this.fireTrackingChange.bind(this),this.$module.addEventListener("change",this.trackChange)},e.prototype.trackChange=function(){var t=this.options[this.selectedIndex];t.hasAttribute("data-track-category")&&t.hasAttribute("data-track-action")&&this.fireTrackingChange(t)},e.prototype.fireTrackingChange=function(t){var e={transport:"beacon"},n=t.getAttribute("data-track-category"),o=t.getAttribute("data-track-action"),i=t.getAttribute("data-track-label"),r=t.getAttribute("data-track-value"),s=t.getAttribute("data-track-dimension"),a=t.getAttribute("data-track-dimension-index"),c=t.getAttribute("data-track-options");if(i&&(e.label=i),r&&(e.value=r),s&&a&&(e["dimension"+a]=s),c)for(var l in c=JSON.parse(c))e[l]=c[l];window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&window.GOVUK.analytics.trackEvent(n,o,e)},t.TrackSelectChange=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.toggleTarget=this.$module.querySelector(".js-class-toggle"),this.$module.addFocusClass=this.addFocusClass.bind(this),this.$module.removeFocusClassFromEmptyInput=this.removeFocusClassFromEmptyInput.bind(this),this.inputIsEmpty()||this.addFocusClass(),this.toggleTarget.addEventListener("focus",this.$module.addFocusClass),this.toggleTarget.addEventListener("blur",this.$module.removeFocusClassFromEmptyInput)},e.prototype.inputIsEmpty=function(){return""===this.toggleTarget.value},e.prototype.addFocusClass=function(){this.toggleTarget.classList.add("focus")},e.prototype.removeFocusClassFromEmptyInput=function(){this.inputIsEmpty()&&this.toggleTarget.classList.remove("focus")},t.GemToggleInputClassOnFocus=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.$module.toggleTrigger=this.$module.querySelector("[data-controls][data-expanded]"),this.$module.toggleTrigger&&(this.$module.toggleClass=this.$module.getAttribute("data-toggle-class")||"js-hidden",this.$module.isTrackable=this.$module.toggleTrigger.hasAttribute("data-track-category")&&this.$module.toggleTrigger.hasAttribute("data-track-action"),this.$module.isTrackable&&(this.$module.trackCategory=this.$module.toggleTrigger.getAttribute("data-track-category"),this.$module.trackAction=this.$module.toggleTrigger.getAttribute("data-track-action")),this.addAriaAttrs(),this.toggleOnClick())},e.prototype.addAriaAttrs=function(){this.$module.toggleTrigger.setAttribute("role","button"),this.$module.toggleTrigger.setAttribute("aria-controls",this.$module.toggleTrigger.getAttribute("data-controls")),this.$module.toggleTrigger.setAttribute("aria-expanded",this.$module.toggleTrigger.getAttribute("data-expanded")),this.$module.targets=this.getTargetElements();for(var t=0;t<this.$module.targets.length;t++)this.$module.targets[t].setAttribute("aria-live","polite"),this.$module.targets[t].setAttribute("role","region")},e.prototype.getTargetElements=function(){var t="#"+this.$module.toggleTrigger.getAttribute("aria-controls").split(" ").join(", #");return this.$module.querySelectorAll(t)},e.prototype.toggleOnClick=function(){var i=this;this.$module.toggleTrigger.addEventListener("click",function(t){if(t.preventDefault(),"true"===this.getAttribute("aria-expanded")){this.setAttribute("aria-expanded",!1);for(var e=0;e<i.$module.targets.length;e++)i.$module.targets[e].classList.add(i.$module.toggleClass)}else{this.setAttribute("aria-expanded",!0);for(var n=0;n<i.$module.targets.length;n++)i.$module.targets[n].classList.remove(i.$module.toggleClass)}var o=this.getAttribute("data-toggled-text");"string"==typeof o&&(this.setAttribute("data-toggled-text",this.innerText),this.innerText=o),window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&i.$module.isTrackable&&i.track()})},e.prototype.track=function(){var t={label:this.$module.toggleTrigger.getAttribute("data-toggled-text")||this.$module.toggleTrigger.innerText};window.GOVUK.analytics.trackEvent(this.$module.trackCategory,this.$module.trackAction,t)},t.GemToggle=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.$module.handleClick=this.handleClick.bind(this);var e=this;this.$module.addEventListener("click",function(t){e.$module.handleClick(t.target)})},e.prototype.handleClick=function(t){var e={transport:"beacon"};if(t.hasAttribute("data-track-category")||t.hasAttribute("data-track-action")||(t=t.closest("[data-track-category][data-track-action]")),t){var n=t.getAttribute("data-track-category"),o=t.getAttribute("data-track-action"),i=t.getAttribute("data-track-label"),r=t.getAttribute("data-track-value"),s=t.getAttribute("data-track-dimension"),a=t.getAttribute("data-track-dimension-index"),c=t.getAttribute("data-track-options");if(i&&(e.label=i),r&&(e.value=r),s&&a&&(e["dimension"+a]=s),c)for(var l in c=JSON.parse(c))e[l]=c[l];window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&window.GOVUK.analytics.trackEvent(n,o,e)}},t.GemTrackClick=e}(window.GOVUK.Modules),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("GOVUKFrontend",e):t.GOVUKFrontend=e()}(this,function(){"use strict";function o(t,e){if(window.NodeList.prototype.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e.call(window,t[n],n,t)}function t(t){this.$module=t,this.moduleId=t.getAttribute("id"),this.$sections=t.querySelectorAll(".govuk-accordion__section"),this.$openAllButton="",this.browserSupportsSessionStorage=e.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded"}(function(){var a,c,l,u;"defineProperty"in Object&&function(){try{var t={};return Object.defineProperty(t,"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),l="Getters & setters cannot be defined on this javascript engine",u="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function d(t,e,n){if(a&&(t===window||t===document||t===Element.prototype||t instanceof Element))return a(t,e,n);if(null===t||!(t instanceof Object||"object"==typeof t))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var o=String(e),i="value"in n||"writable"in n,r="get"in n&&typeof n.get,s="set"in n&&typeof n.set;if(r){if("function"!==r)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(u);Object.__defineGetter__.call(t,o,n.get)}else t[o]=n.value;if(s){if("function"!==s)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(u);Object.__defineSetter__.call(t,o,n.set)}return"value"in n&&(t[o]=n.value),t})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function O(e){var n,t=Array,o=Object,i=o.prototype,r=t.prototype,s=function s(){},a=i.toString,c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,l=Function.prototype.toString,u=function u(t){try{return l.call(t),!0}catch(e){return!1}},d="[object Function]",f="[object GeneratorFunction]";n=function n(t){if("function"!=typeof t)return!1;if(c)return u(t);var e=a.call(t);return e===d||e===f};var p=r.slice,h=r.concat,m=r.push,g=Math.max,b=this;if(!n(b))throw new TypeError("Function.prototype.bind called on incompatible "+b);for(var v,y=p.call(arguments,1),w=function(){if(this instanceof v){var t=b.apply(this,h.call(y,p.call(arguments)));return o(t)===t?t:this}return b.apply(e,h.call(y,p.call(arguments)))},k=g(0,b.length-y.length),E=[],$=0;$<k;$++)m.call(E,"$"+$);return v=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this, arguments); }")(w),b.prototype&&(s.prototype=b.prototype,v.prototype=new s,s.prototype=null),v}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(f){var t,e,n;"DOMTokenList"in this&&(!("classList"in(t=document.createElement("x")))||!t.classList.toggle("x",!1)&&!t.className)||("DOMTokenList"in(e=this)&&e.DOMTokenList&&(
!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(e.DOMTokenList=function(){var i=!0,n=function(t,e,n,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===i||!!o,get:n}):t.__defineGetter__(e,n)};try{n({},"support")}catch(t){i=!1}return function(i,r){var s=this,a=[],c={},l=0,t=0,e=function(t){n(s,t,function(){return d(),a[t]},!1)},u=function(){if(t<=l)for(;t<l;++t)e(t)},d=function(){var t,e,n=arguments,o=/\s+/;if(n.length)for(e=0;e<n.length;++e)if(o.test(n[e]))throw(t=new SyntaxError('String "'+n[e]+'" contains an invalid character')).code=5,t.name="InvalidCharacterError",t;for(""===(a="object"==typeof i[r]?(""+i[r].baseVal).replace(/^\s+|\s+$/g,"").split(o):(""+i[r]).replace(/^\s+|\s+$/g,"").split(o))[0]&&(a=[]),c={},e=0;e<a.length;++e)c[a[e]]=!0;l=a.length,u()};return d(),n(s,"length",function(){return d(),l}),s.toLocaleString=s.toString=function(){return d(),a.join(" ")},s.item=function(t){return d(),a[t]},s.contains=function(t){return d(),!!c[t]},s.add=function(){d.apply(s,t=arguments);for(var t,e,n=0,o=t.length;n<o;++n)e=t[n],c[e]||(a.push(e),c[e]=!0);l!==a.length&&(l=a.length>>>0,"object"==typeof i[r]?i[r].baseVal=a.join(" "):i[r]=a.join(" "),u())},s.remove=function(){d.apply(s,t=arguments);for(var t,e={},n=0,o=[];n<t.length;++n)e[t[n]]=!0,delete c[t[n]];for(n=0;n<a.length;++n)e[a[n]]||o.push(a[n]);l=(a=o).length>>>0,"object"==typeof i[r]?i[r].baseVal=a.join(" "):i[r]=a.join(" "),u()},s.toggle=function(t,e){return d.apply(s,[t]),f!==e?e?(s.add(t),!0):(s.remove(t),!1):c[t]?(s.remove(t),!1):(s.add(t),!0)},s}}()),"classList"in(n=document.createElement("span"))&&(n.classList.toggle("x",!1),n.classList.contains("x")&&(n.classList.constructor.prototype.toggle=function i(t,e){var n=e;if(n!==f)return this[(n=!!n)?"add":"remove"](t),n;var o=!this.contains(t);return this[o?"add":"remove"](t),o})),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a","b"),!t.classList.contains("b"))){var o=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)o.call(this,t[n])}}}(),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a"),t.classList.add("b"),t.classList.remove("a","b"),t.classList.contains("b"))){var o=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)o.call(this,t[n])}}}())}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Element"in this&&"HTMLElement"in this||function(){function t(){return r--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(l(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,n=document.appendChild(document.createElement("body")),o=n.appendChild(document.createElement("iframe")).contentWindow.document,a=Element.prototype=o.appendChild(o.createElement("*")),c={},l=function(t,e){var n,o,i,r=t.childNodes||[],s=-1;if(1===t.nodeType&&t.constructor!==Element)for(n in t.constructor=Element,c)o=c[n],t[n]=o;for(;i=e&&r[++s];)l(i,e);return t},u=document.getElementsByTagName("*"),i=document.createElement,r=100;a.attachEvent("onpropertychange",function(t){for(var e,n=t.propertyName,o=!c.hasOwnProperty(n),i=a[n],r=c[n],s=-1;e=u[++s];)1===e.nodeType&&(o||e[n]===r)&&(e[n]=i);c[n]=i}),a.constructor=Element,a.hasAttribute||(a.hasAttribute=function s(t){return null!==this.getAttribute(t)}),t()||(document.onreadystatechange=t,e=setInterval(t,25)),document.createElement=function d(t){var e=i(String(t).toLowerCase());return l(e)},document.removeChild(n)}else window.HTMLElement=window.Element}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(t){var u=!0,d=function(t,e,n,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===u||!!o,get:n}):t.__defineGetter__(e,n)};try{d({},"support")}catch(e){u=!1}var f=function(t,c,l){d(t.prototype,c,function(){var t,e=this,n="__defineGetter__DEFINE_PROPERTY"+c;if(e[n])return t;if(!(e[n]=!0)===u){for(var o,i=f.mirror||document.createElement("div"),r=i.childNodes,s=r.length,a=0;a<s;++a)if(r[a]._R===e){o=r[a];break}o||(o=i.appendChild(document.createElement("div"))),t=DOMTokenList.call(o,e,l)}else t=new DOMTokenList(e,l);return d(e,c,function(){return t}),delete e[n],t},!0)};f(t.Element,"classList","className"),f(t.HTMLElement,"classList","className"),f(t.HTMLLinkElement,"relList","rel"),f(t.HTMLAnchorElement,"relList","rel"),f(t.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),t.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var t=this.checkIfAllSectionsOpen();this.updateOpenAllButton(t)}},t.prototype.initControls=function(){this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button");var t=document.createElement("div");t.setAttribute("class",this.controlsClass),t.appendChild(this.$openAllButton),this.$module.insertBefore(t,this.$module.firstChild),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},t.prototype.initSectionHeaders=function(){o(this.$sections,function(t,e){var n=t.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(n,e),this.setExpanded(this.isExpanded(t),t),n.addEventListener("click",this.onSectionToggle.bind(this,t)),this.setInitialState(t)}.bind(this))},t.prototype.initHeaderAttributes=function(t,e){var n=this,o=t.querySelector("."+this.sectionButtonClass),i=t.querySelector("."+this.sectionHeadingClass),r=t.querySelector("."+this.sectionSummaryClass),s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("id",this.moduleId+"-heading-"+(e+1)),s.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));for(var a=0;a<o.attributes.length;a++){var c=o.attributes.item(a);s.setAttribute(c.nodeName,c.nodeValue)}s.addEventListener("focusin",function(){t.classList.contains(n.sectionHeaderFocusedClass)||(t.className+=" "+n.sectionHeaderFocusedClass)}),s.addEventListener("blur",function(){t.classList.remove(n.sectionHeaderFocusedClass)}),null!=r&&s.setAttribute("aria-describedby",this.moduleId+"-summary-"+(e+1)),s.innerHTML=o.innerHTML,i.removeChild(o),i.appendChild(s);var l=document.createElement("span");l.className=this.iconClass,l.setAttribute("aria-hidden","true"),s.appendChild(l)},t.prototype.onSectionToggle=function(t){var e=this.isExpanded(t);this.setExpanded(!e,t),this.storeState(t)},t.prototype.onOpenOrCloseAllToggle=function(){var e=this,t=this.$sections,n=!this.checkIfAllSectionsOpen();o(t,function(t){e.setExpanded(n,t),e.storeState(t)}),e.updateOpenAllButton(n)},t.prototype.setExpanded=function(t,e){e.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",t),t?e.classList.add(this.sectionExpandedClass):e.classList.remove(this.sectionExpandedClass);var n=this.checkIfAllSectionsOpen();this.updateOpenAllButton(n)},t.prototype.isExpanded=function(t){return t.classList.contains(this.sectionExpandedClass)},t.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},t.prototype.updateOpenAllButton=function(t){var e=t?"Close all":"Open all";e+='<span class="govuk-visually-hidden"> sections</span>',this.$openAllButton.setAttribute("aria-expanded",t),this.$openAllButton.innerHTML=e};var e={checkForSessionStorage:function(){var t,e="this is the test string";try{return window.sessionStorage.setItem(e,e),t=window.sessionStorage.getItem(e)===e.toString(),window.sessionStorage.removeItem(e),t}catch(n){"undefined"!=typeof console&&"undefined"!=typeof console.log||console.log("Notice: sessionStorage not available.")}}};return t.prototype.storeState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),o=e.getAttribute("aria-expanded");void 0!==n||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==o||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria expanded present in accordion section heading.")),n&&o&&window.sessionStorage.setItem(n,o)}}},t.prototype.setInitialState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),o=n?window.sessionStorage.getItem(n):null;null!==o&&this.setExpanded("true"===o,t)}}},t}),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},window.GOVUK.Modules.Accordion=window.GOVUKFrontend,function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("GOVUKFrontend",e):t.GOVUKFrontend=e()}(this,function(){"use strict";function t(t){this.$module=t,this.debounceFormSubmitTimer=null}(function(){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(t){t.constructor?t.Window=t.constructor:(t.Window=t.constructor=new Function("return function Window() {}")()).prototype=this}(this)}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Element"in this&&"HTMLElement"in this||function(){function t(){return r--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(l(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,n=document.appendChild(document.createElement("body")),o=n.appendChild(document.createElement("iframe")).contentWindow.document,a=Element.prototype=o.appendChild(o.createElement("*")),c={},l=function(t,e){var n,o,i,r=t.childNodes||[],s=-1;if(1===t.nodeType&&t.constructor!==Element)for(n in t.constructor=Element,c)o=c[n],t[n]=o;for(;i=e&&r[++s];)l(i,e);return t},u=document.getElementsByTagName("*"),i=document.createElement,r=100;a.attachEvent("onpropertychange",function(t){for(var e,n=t.propertyName,o=!c.hasOwnProperty(n),i=a[n],r=c[n],s=-1;e=u[++s];)1===e.nodeType&&(o||e[n]===r)&&(e[n]=i);c[n]=i}),a.constructor=Element,a.hasAttribute||(a.hasAttribute=function s(t){return null!==this.getAttribute(t)}),t()||(document.onreadystatechange=t,e=setInterval(t,25)),document.createElement=function d(t){var e=i(String(t).toLowerCase());return l(e)},document.removeChild(n)}else window.HTMLElement=window.Element}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var a,c,l,u;"defineProperty"in Object&&function(){try{var t={};return Object.defineProperty(t,"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),l="Getters & setters cannot be defined on this javascript engine",u="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function d(t,e,n){if(a&&(t===window||t===document||t===Element.prototype||t instanceof Element))return a(t,e,n);if(null===t||!(t instanceof Object||"object"==typeof t))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var o=String(e),i="value"in n||"writable"in n,r="get"in n&&typeof n.get,s="set"in n&&typeof n.set;if(r){if("function"!==r)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(u);Object.__defineGetter__.call(t,o,n.get)}else t[o]=n.value;if(s){if("function"!==s)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(u);Object.__defineSetter__.call(t,o,n.set)}return"value"in n&&(t[o]=n.value),t})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(l){(function(t){if(!("Event"in t))return!1;if("function"==typeof t.Event)return!0;try{return new Event("click"),!0}catch(e){return!1}})(this)||function(){function u(t,e){for(var n=-1,o=t.length;++n<o;)if(n in t&&t[n]===e)return n;return-1}var i={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var t=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function r(t,e){if(!t)throw new Error("Not enough arguments");var n;if("createEvent"in document){n=document.createEvent("Event");var o=!(!e||e.bubbles===l)&&e.bubbles,i=!(!e||e.cancelable===l)&&e.cancelable;return n.initEvent(t,o,i),n}return(n=document.createEventObject()).type=t,n.bubbles=!(!e||e.bubbles===l)&&e.bubbles,n.cancelable=!(!e||e.cancelable===l)&&e.cancelable,n},t&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:t}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function s(t,e){var l=this,n=t,o=e;if(l===window&&n in i)throw new Error("In IE8 the event: "+n+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");l._events||(l._events={}),l._events[n]||(l._events[n]=function(t){var e,n=l._events[t.type].list,o=n.slice(),i=-1,r=o.length;for(t.preventDefault=function s(){!1!==t.cancelable&&(t.returnValue=!1)},t.stopPropagation=function a(){t.cancelBubble=!0},t.stopImmediatePropagation=function c(){t.cancelBubble=!0,t.cancelImmediate=!0},t.currentTarget=l,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||l,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++i<r&&!t.cancelImmediate;)i in o&&-1!==u(n,e=o[i])&&"function"==typeof e&&e.call(l,t)},l._events[n].list=[],l.attachEvent&&l.attachEvent("on"+n,l._events[n])),l._events[n].list.push(o)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function a(t,e){var n,o=this,i=t,r=e;o._events&&o._events[i]&&o._events[i].list&&-1!==(n=u(o._events[i].list,r))&&(o._events[i].list.splice(n,1),o._events[i].list.length||(o.detachEvent&&o.detachEvent("on"+i,o._events[i]),delete o._events[i]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function c(t){if(!arguments.length)throw new Error("Not enough arguments");if(!t||"string"!=typeof t.type)throw new Error("DOM Events Exception 0");var e=this,n=t.type;try{if(!t.bubbles){t.cancelBubble=!0;var o=function(t){t.cancelBubble=!0,(e||window).detachEvent("on"+n,o)};this.attachEvent("on"+n,o)}this.fireEvent("on"+n,t)}catch(i){for(t.target=e;"_events"in(t.currentTarget=e)&&"function"==typeof e._events[n]&&e._events[n].call(e,t),"function"==typeof e["on"+n]&&e["on"+n].call(e,t),(e=9===e.nodeType?e.parentWindow:e.parentNode)&&!t.cancelBubble;);}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function O(e){var n,t=Array,o=Object,i=o.prototype,r=t.prototype,s=function s(){},a=i.toString,c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,l=Function.prototype.toString,u=function u(t){try{return l.call(t),!0}catch(e){return!1}},d="[object Function]",f="[object GeneratorFunction]";n=function n(t){if("function"!=typeof t)return!1;if(c)return u(t);var e=a.call(t);return e===d||e===f};var p=r.slice,h=r.concat,m=r.push,g=Math.max,b=this;if(!n(b))throw new TypeError("Function.prototype.bind called on incompatible "+b);for(var v,y=p.call(arguments,1),w=function(){if(this instanceof v){var t=b.apply(this,h.call(y,p.call(arguments)));return o(t)===t?t:this}return b.apply(e,h.call(y,p.call(arguments)))},k=g(0,b.length-y.length),E=[],$=0;$<k;$++)m.call(E,"$"+$);return v=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this, arguments); }")(w),b.prototype&&(s.prototype=b.prototype,v.prototype=new s,s.prototype=null),v}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});var n=32,e=1;return t.prototype.handleKeyDown=function(t){var e=t.target;"button"===e.getAttribute("role")&&t.keyCode===n&&(t.preventDefault(),e.click())},t.prototype.debounce=function(t){if("true"===t.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(t.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3*e))},t.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)},t}),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},window.GOVUK.Modules.Button=window.GOVUKFrontend,window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(){"use strict";window.GOVUK.Modules.Feedback=function(){this.start=function(n){function o(t){t.find('input[type="submit"]').prop("disabled",!0)}function i(t){t.find('input[type="submit"]').removeAttr("disabled")}function r(){p.$forms.attr("aria-hidden",!0),p.$pageIsNotUsefulButton.attr("aria-expanded",!1),p.$somethingIsWrongButton.attr("aria-expanded",!1)}function t(){p.$somethingIsWrongForm.append('<input type="hidden" name="javascript_enabled" value="true"/>'),p.$somethingIsWrongForm.append($('<input type="hidden" name="referrer">').val(document.referrer||"unknown")),p.somethingIsWrongForm.invalidInfoError=["<h2>","  Sorry, we\u2019re unable to send your message as you haven\u2019t given us any information.","</h2>","<p>Please tell us what you were doing or what went wrong</p>"].join("")}function e(t){var e=window.location.pathname.replace(/[^\s=?&]+(?:@|%40)[^\s=?&]+/,"[email]"),n=encodeURI(e);p.surveyForm.invalidInfoError=["<h2>","  Sorry, we\u2019re unable to send your message as you haven\u2019t given us a valid email address. ","</h2>","<p>Enter an email address in the correct format, like name@example.com</p>"].join(""),0===document.querySelectorAll('[name="email_survey_signup[ga_client_id]"]').length&&p.$surveyForm.append($('<input name="email_survey_signup[ga_client_id]" type="hidden">').val(t||"0")),0===document.querySelectorAll(".gem-c-feedback__email-link#take-survey").length&&p.$surveyWrapper.append('<a href="https://www.smartsurvey.co.uk/s/gov-uk-banner/?c='+n+"&amp;gcl="+t+'" class="gem-c-feedback__email-link govuk-link" id="take-survey" target="_blank" rel="noopener noreferrer">Don\u2019t have an email address?</a>')}function s(t){t.attr("aria-expanded",!0),$("#"+t.attr("aria-controls")).attr("aria-hidden",!1)}function a(t){p.activeForm=p.element.querySelector("#"+t),p.$activeForm=$(p.activeForm),p.$activeForm.toggleClass(h),p.$prompt.toggleClass(h),!p.$activeForm.hasClass(h)?p.$activeForm.find(".gem-c-input").first().focus():p.$activeForm=!1}function c(t){return{category:t.data("track-category"),action:t.data("track-action")}}function l(t){window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&window.GOVUK.analytics.trackEvent(t.category,t.action)}function u(t){var e=["<h2>","  Sorry, we\u2019re unable to receive your message right now. ","</h2>","<p>If the problem persists, we have other ways for you to provide",' feedback on the <a href="/contact/govuk">contact page</a>.</p>'].join("");"undefined"!=typeof t.responseJSON?"email survey sign up failure"===(t="undefined"==typeof t.responseJSON.message?e:t.responseJSON.message)&&(t=e):t=422===t.status&&p.activeForm.invalidInfoError||e,p.$activeForm.find(".js-errors").html(t).removeClass(h).focus()}function d(){p.$promptQuestions.addClass(h),p.$promptSuccessMessage.removeClass(h).focus()}function f(){p.$prompt.removeClass(h),p.$prompt.focus()}this.element=n[0],this.somethingIsWrongForm=this.element.querySelector("#something-is-wrong"),this.surveyForm=this.element.querySelector("#page-is-not-useful"),this.$prompt=n.find(".js-prompt"),this.$fields=n.find(".gem-c-feedback__form-field"),this.$forms=n.find(".js-feedback-form"),this.$toggleForms=n.find(".js-toggle-form"),this.$closeForms=n.find(".js-close-form"),this.activeForm=!1,this.$activeForm=!1,this.$pageIsUsefulButton=n.find(".js-page-is-useful"),this.$pageIsNotUsefulButton=n.find(".js-page-is-not-useful"),this.$somethingIsWrongButton=n.find(".js-something-is-wrong"),this.$promptQuestions=n.find(".js-prompt-questions"),this.$promptSuccessMessage=n.find(".js-prompt-success"),this.$somethingIsWrongForm=$(this.somethingIsWrongForm),this.$surveyForm=$(this.surveyForm),this.$surveyWrapper=n.find("#survey-wrapper");var p=this,h="js-hidden";r(),t(),this.$toggleForms.on("click",function(t){t.preventDefault(),a($(t.target).attr("aria-controls")),l(c($(this))),s($(this))}),this.$closeForms.on("click",function(t){t.preventDefault(),a($(t.target).attr("aria-controls")),l(c($(this))),r(),f();var e=".js-"+$(t.target).attr("aria-controls");n.find(e).focus()}),this.$pageIsUsefulButton.on("click",function(t){t.preventDefault(),l(c(p.$pageIsUsefulButton)),d(),f()}),this.$pageIsNotUsefulButton.on("click",function(){var t="111111111.1111111111";e(null===window.GOVUK.cookie("_ga")||""===window.GOVUK.cookie("_ga")?t:window.GOVUK.cookie("_ga").split(".").slice(-2).join("."))}),n.find("form").on("submit",function(t){t.preventDefault();var e=$(this);$.ajax({type:"POST",url:e.attr("action"),dataType:"json",data:e.serialize(),beforeSend:o(e),timeout:6e3}).done(function(t){l(c(e)),d(t.message),f(),r(),p.$activeForm.toggleClass(h)}).fail(function(t){u(t),i(e)})})}}}(),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],-1===this.$module.className.indexOf("disable-youtube")&&this.embedYoutube(),this.createBarcharts()},e.prototype.embedYoutube=function(){new window.GOVUK.GovspeakYoutubeLinkEnhancement(this.$module).init()},e.prototype.createBarcharts=function(){new window.GOVUK.GovspeakBarchartEnhancement(this.$module).init()},t.Govspeak=e}(window.GOVUK.Modules),function(t){"use strict";t.GOVUK=t.GOVUK||{},t.GOVUK.getCurrentLocation=function(){return t.location}}(window),window.GOVUK.Modules=window.GOVUK.Modules||{},function(){"use strict";window.GOVUK.Modules.AccordionWithDescriptions=function(){function E(t){var e=this;this.$subsectionContent=t.find(".js-subsection-content"),this.$subsectionButton=t.find(".js-subsection-button"),this.title=e.$subsectionButton.text(),this.toggle=function(){e.isClosed()?e.open():e.close()},this.open=function(){e.$subsectionContent.removeClass("js-hidden"),t.removeClass("subsection"),t.addClass("subsection--is-open"),e.$subsectionButton.attr("aria-expanded","true")},this.close=function(){e.$subsectionContent.addClass("js-hidden"),t.removeClass("subsection--is-open"),t.addClass("subsection"),e.$subsectionButton.attr("aria-expanded","false")},this.isClosed=function(){return e.$subsectionContent.hasClass("js-hidden")}}function O(t,e){var n=this;this.$target=$(e.target),this.track=function(){C("pageElementInteraction",n._trackingAction(),{label:n._trackingLabel()})},this._trackingAction=function(){return t.isClosed()?"accordionClosed":"accordionOpened"},this._trackingLabel=function(){return n._clickedOnIcon()?t.title+" - "+n._iconType()+" Click":n._clickedOnHeading()?t.title+" - Heading Click":t.title+" - Click Elsewhere"},this._clickedOnIcon=function(){return n.$target.hasClass("subsection__icon")},this._clickedOnHeading=function(){return n.$target.hasClass("js-subsection-button")},this._iconType=function(){return t.isClosed()?"Minus":"Plus"}}function C(t,e,n){GOVUK.analytics&&GOVUK.analytics.trackEvent&&GOVUK.analytics.trackEvent(t,e,n)}this.start=function(n){function e(){return $("h1").text()}function o(t){return t.replace(/\s+/g,"_")}function t(){var t=e();return"GOVUK_service_manual_"+(t=(t=o(t)).toLowerCase())+"_"}function i(){n.prepend('<div class="subsection-controls js-subsection-controls"><button aria-expanded="false">Open all</button></div>')}function r(){n.find(".subsection__title").each(function(t){$(this).wrapInner('<button class="subsection__button js-subsection-button" aria-expanded="false" aria-controls="subsection_content_'+t+'"></button>')})}function s(){y.append('<span class="subsection__icon"></span>')}function a(){for(var t="",e=0;e<w;e++)t+="subsection_content_"+e+" ";(v=n.find(".js-subsection-controls button")).attr("aria-controls",t)}function c(){$.each(n.find(".js-subsection"),function(){new E($(this)).close()})}function l(){var t,e=u();e.length&&((t=n.find(e).parents(".js-subsection")).length&&new E(t).open())}function u(){return GOVUK.getCurrentLocation().hash}function d(){n.find(".subsection__content").each(function(){var t=$(this).attr("id");sessionStorage.getItem(k+t)&&g(n.find("#"+t))}),b()}function f(){n.find(".subsection--is-open").length&&n.find(".subsection--is-open").each(function(){var t=$(this).find(".subsection__content").attr("id");sessionStorage.setItem(k+t,"Opened")})}function p(){n.find(".subsection").length&&n.find(".subsection").each(function(){var t=$(this).find(".subsection__content").attr("id");sessionStorage.removeItem(k+t,t)})}function h(){n.find(".subsection__header").on("click",function(t){var e=new E($(this).parent(".js-subsection"));return e.toggle(),b(),f(),p(),new O(e,t).track(),!1})}function m(){(v=n.find(".js-subsection-controls button")).on("click",function(){var o="";return"Open all"==v.text()?(v.text("Close all"),v.attr("aria-expanded","true"),o="open",C("pageElementInteraction","accordionAllOpened",{label:"Open All"})):(v.text("Open all"),v.attr("aria-expanded","false"),o="close",C("pageElementInteraction","accordionAllClosed",{label:"Close All"})),n.find(".js-subsection").each(function(){var t=$(this),e=t.find(".js-subsection-button"),n=t.find(".js-subsection-content");"open"==o?(e.attr("aria-expanded","true"),n.removeClass("js-hidden"),t.removeClass("subsection"),t.addClass("subsection--is-open")):(e.attr("aria-expanded","false"),n.addClass("js-hidden"),t.addClass("subsection"),t.removeClass("subsection--is-open"))}),f(),p(),!1})}function g(t){new E(t.parent(".js-subsection")).open(),b()}function b(){n.find(".subsection--is-open").length===w?v.text("Close all"):v.text("Open all")}n.addClass("js-accordion-with-descriptions"),n.removeClass("js-hidden");var v,y=n.find(".subsection__header"),w=n.find(".subsection__content").length,k=t();i(),r(),s(),a(),c(),d(),l(),h(),m()}}}(),function(t,e){"use strict";var p=e.$,o=p(e);t.HighlightActiveSectionHeading=function(){var d=this,t=!0,e=!0,n=50,f=[];d.getWindowDimensions=function(){return{height:o.height(),width:o.width()}},d.getWindowPositions=function(){return{scrollTop:o.scrollTop()}},d.getElementOffset=function(t){return t.offset()},d.start=function(t){o.resize(d.hasResized),o.scroll(d.hasScrolled),setInterval(d.checkResize,n),setInterval(d.checkScroll,n),d.$anchors=t.find(".js-page-contents a"),d.getAnchors(),d.checkResize(),d.checkScroll()},d.hasResized=function(){return t=!0},d.hasScrolled=function(){return e=!0},d.checkResize=function(){t&&(e=!(t=!1))},d.checkScroll=function(){e&&(e=!1,d.getWindowDimensions().width<=768?d.removeActiveItem():d.updateActiveNavItem())},d.getAnchors=function(){p.each(d.$anchors,function(){var t=p(this).attr("href");f.push(t)})},d.getHeadingPosition=function(t){return t.offset()},d.getNextHeadingPosition=function(t){return t.offset()},d.getFooterPosition=function(t){return t.offset()},d.getDistanceBetweenHeadings=function(t,e){return e-t},d.updateActiveNavItem=function(){var l=d.getWindowPositions().scrollTop,u=d.getFooterPosition(p("#footer"));p.each(d.$anchors,function(t){var e=f[t],n=f[t+1],o=p(e),i=p(n),r=d.getHeadingPosition(o);if(r){if(r=r.top,r-=53,n)var s=d.getNextHeadingPosition(i).top;var a=d.getDistanceBetweenHeadings(r,s);if(a)var c=r<=l&&l<r+a;else c=r<=l&&l<u.top;c&&d.setActiveItem(e)}})},d.setActiveItem=function(t){d.$anchors.removeClass("active"),d.$anchors.filter("[href='"+t+"']").addClass("active")},d.removeActiveItem=function(){d.$anchors.removeClass("active")}}}(window.GOVUK.Modules,window),function(){"use strict";function t(){this.controller=null,this.view=null,this.start=function(t){this.view=new e(t),this.controller=new n(this.view),this.controller.init()}}function e(t){function e(e){return function(t){t.preventDefault(),e()}}var r=this;this.$pageIsUsefulButton=t.find(".js-page-is-useful"),this.$pageIsNotUsefulButton=t.find(".js-page-is-not-useful"),this.$somethingIsWrongButton=t.find(".js-something-is-wrong"),this.$feedbackFormContainer=t.find(".js-feedback-form"),this.$feedbackForm=r.$feedbackFormContainer.find("form"),this.$feedbackFormSubmitButton=r.$feedbackFormContainer.find("[type=submit]"),this.$feedbackFormCloseButton=r.$feedbackFormContainer.find(".js-close-feedback-form"),this.$prompt=t.find(".js-prompt"),this.$refocus=this.$prompt,this.onPageIsUsefulButtonClicked=function(t){r.$pageIsUsefulButton.on("click",e(t))},this.onPageIsNotUsefulButtonClicked=function(t){r.$pageIsNotUsefulButton.on("click",e(t))},this.onSomethingIsWrongButtonClicked=function(t){r.$somethingIsWrongButton.on("click",e(t))},this.onFeedbackFormCloseButtonClicked=function(t){r.$feedbackFormCloseButton.on("click",e(t))},this.onSubmitFeedbackForm=function(t){r.$feedbackForm.on("submit",e(t))},this.showSuccess=function(){r.$prompt.html('<span id="feedback-success-message">Thanks for your feedback.</span>'),r.$prompt.hasClass("js-hidden")&&r.toggleFeedbackForm(),r.$prompt.attr("aria-labelledby","feedback-success-message"),r.$prompt.focus()},this.toggleFeedbackForm=function(){r.$prompt.toggleClass("js-hidden"),r.$feedbackFormContainer.toggleClass("js-hidden");var t=!r.$feedbackFormContainer.hasClass("js-hidden");r.updateAriaAttributes(t),t?$(".form-control",r.$feedbackFormContainer).first().focus():this.$refocus.focus()},this.updateAriaAttributes=function(t){r.$feedbackFormContainer.attr("aria-hidden",!t),$("[aria-controls=improveThisPageForm]").attr("aria-expanded",t)},this.feedbackFormContainerData=function(){return r.$feedbackFormContainer.find("input, textarea").serialize()},this.feedbackFormContainerTrackEventParams=function(){return r.getTrackEventParams(r.$feedbackFormContainer)},this.setPageIsNotUsefulFocus=function(){this.$refocus=this.$pageIsNotUsefulButton},this.setSomethingIsWrongFocus=function(){this.$refocus=this.$somethingIsWrongButton},
this.pageIsUsefulTrackEventParams=function(){return r.getTrackEventParams(r.$pageIsUsefulButton)},this.pageIsNotUsefulTrackEventParams=function(){return r.getTrackEventParams(r.$pageIsNotUsefulButton)},this.somethingIsWrongTrackEventParams=function(){return r.getTrackEventParams(r.$somethingIsWrongButton)},this.getTrackEventParams=function(t){return{category:t.data("track-category"),action:t.data("track-action")}},this.renderErrors=function(t){this.clearErrors();var i=[];$.each(t,function(o,t){$.each(t,function(t,e){var n=o.charAt(0).toUpperCase()+o.slice(1)+" "+e+".";r.addErrorToField(o,n)||i.push(n)})}),i.length&&r.addGenericError('<h1 class="heading-medium error-summary-heading" id="generic-error-message">There is a problem</h1>'+$("<p>").text(i.join(" ")).html()),r.focusFirstError()},this.clearErrors=function(){$(".form-group",r.$feedbackFormContainer).removeClass("error"),$(".error-message, .error-summary",r.$feedbackFormContainer).remove(),$("[name]",r.$feedbackFormContainer).attr({"aria-describedby":"","aria-invalid":""})},this.focusFirstError=function(){$(".error-summary, .form-group.error .form-control",r.$feedbackFormContainer).first().focus()},this.addErrorToField=function(t,e){var n=r.$feedbackFormContainer.find('[name="'+t+'"]'),o=n.parents(".form-group");if(!n.length||!o.length)return!1;var i=r.generateIdFromError(e);return o.addClass("error"),$("label",o).append($("<span />",{"class":"error-message",text:e,id:i})),n.attr({"aria-describedby":i,"aria-invalid":"true"}),!0},this.addGenericError=function(t){var e=$("<div/>",{"class":"error-summary",role:"group","aria-labelledby":"generic-error-message",html:t,tabindex:-1});$(".js-errors",r.$feedbackFormContainer).html(e)},this.generateIdFromError=function(t){return"error-"+t.toString().toLowerCase().trim().replace(/&/g,"-and-").replace(/[\s\W-]+/g,"-")},this.disableSubmitFeedbackButton=function(){r.$feedbackFormSubmitButton.prop("disabled",!0)},this.enableSubmitFeedbackButton=function(){r.$feedbackFormSubmitButton.removeAttr("disabled")}}function n(e){var n=this;this.init=function(){n.bindPageIsUsefulButton(),n.bindPageIsNotUsefulButton(),n.bindSomethingIsWrongButton(),n.bindSubmitFeedbackButton(),this.bindCloseFeedbackFormButton(),e.updateAriaAttributes(!1)},this.bindPageIsUsefulButton=function(){var t=function(){n.trackEvent(e.pageIsUsefulTrackEventParams()),e.showSuccess()};e.onPageIsUsefulButtonClicked(t)},this.bindPageIsNotUsefulButton=function(){var t=function(){n.trackEvent(e.pageIsNotUsefulTrackEventParams()),e.setPageIsNotUsefulFocus(),e.toggleFeedbackForm()};e.onPageIsNotUsefulButtonClicked(t)},this.bindSomethingIsWrongButton=function(){var t=function(){n.trackEvent(e.somethingIsWrongTrackEventParams()),e.setSomethingIsWrongFocus(),e.toggleFeedbackForm()};e.onSomethingIsWrongButtonClicked(t)},this.bindCloseFeedbackFormButton=function(){var t=function(){e.toggleFeedbackForm()};e.onFeedbackFormCloseButtonClicked(t)},this.bindSubmitFeedbackButton=function(){e.onSubmitFeedbackForm(n.handleSubmitFeedback)},this.handleSubmitFeedback=function(){$.ajax({type:"POST",url:"/contact/govuk/page_improvements",data:e.feedbackFormContainerData(),beforeSend:e.disableSubmitFeedbackButton}).done(function(){n.trackEvent(e.feedbackFormContainerTrackEventParams()),e.showSuccess()}).fail(function(t){e.enableSubmitFeedbackButton(),422==t.status?e.renderErrors(t.responseJSON.errors):(e.clearErrors(),e.addGenericError(['<h1 class="heading-medium error-summary-heading" id="generic-error-message">',"  Sorry, we\u2019re unable to receive your message right now. ","</h1>","<p>If the problem persists, we have other ways for you to provide",' feedback on the <a href="/contact/govuk">contact page</a>.</p>'].join("")),e.focusFirstError())})},this.trackEvent=function(t){GOVUK.analytics&&GOVUK.analytics.trackEvent&&GOVUK.analytics.trackEvent(t.category,t.action)}}window.GOVUK.Modules.ImproveThisPage=t}();