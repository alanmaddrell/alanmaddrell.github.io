function nodeListForEach(t,e){if(window.NodeList.prototype.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e.call(window,t[n],n,t)}this.Element&&function(t){t.matches=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.msMatchesSelector||function(t){for(var e=this,n=(e.parentNode||e.document).querySelectorAll(t),o=-1;n[++o]&&n[o]!=e;);return!!n[o]}}(Element.prototype),this.Element&&function(t){t.closest=t.closest||function(t){for(var e=this;e.matches&&!e.matches(t);)e=e.parentNode;return e.matches?e:null}}(Element.prototype),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var n=e||0,o=this.length;n<o;n++)if(this[n]===t)return n;return-1}),function(){"use strict";window.GOVUK=window.GOVUK||{};var i={essential:!0,settings:!1,usage:!1,campaigns:!1},s={cookies_policy:"essential",seen_cookie_message:"essential",cookie_preferences_set:"essential",cookies_preferences_set:"essential","_email-alert-frontend_session":"essential",licensing_session:"essential",govuk_contact_referrer:"essential",multivariatetest_cohort_coronavirus_extremely_vulnerable_rate_limit:"essential",dgu_beta_banner_dismissed:"settings",global_bar_seen:"settings",govuk_browser_upgrade_dismisssed:"settings",govuk_not_first_visit:"settings",analytics_next_page_call:"usage",user_nation:"settings",_ga:"usage",_gid:"usage",_gat:"usage","JS-Detection":"usage",TLSversion:"usage"};window.GOVUK.cookie=function(t,e,n){return void 0!==e?!1===e||null===e?window.GOVUK.setCookie(t,"",{days:-1}):(void 0===n&&(n={days:30}),window.GOVUK.setCookie(t,e,n)):window.GOVUK.getCookie(t)},window.GOVUK.setDefaultConsentCookie=function(){window.GOVUK.setConsentCookie(i)},window.GOVUK.approveAllCookieTypes=function(){var t={essential:!0,settings:!0,usage:!0,campaigns:!0};window.GOVUK.setCookie("cookies_policy",JSON.stringify(t),{days:365})},window.GOVUK.getConsentCookie=function(){var t,e=window.GOVUK.cookie("cookies_policy");if(!e)return null;try{t=JSON.parse(e)}catch(n){return null}return"object"!=typeof t&&null!==t&&(t=JSON.parse(t)),t},window.GOVUK.setConsentCookie=function(t){var e=window.GOVUK.getConsentCookie();for(var n in e||(e=JSON.parse(JSON.stringify(i))),t)if(e[n]=t[n],!t[n])for(var o in s)s[o]===n&&window.GOVUK.deleteCookie(o);window.GOVUK.setCookie("cookies_policy",JSON.stringify(e),{days:365})},window.GOVUK.checkConsentCookieCategory=function(t,e){var n=window.GOVUK.getConsentCookie();if(!n&&s[t])return!0;n=window.GOVUK.getConsentCookie();try{return n[e]}catch(o){return console.error(o),!1}},window.GOVUK.checkConsentCookie=function(t,e){if("cookies_policy"===t||null===e||!1===e)return!0;if(t.match("^govuk_surveySeen")||t.match("^govuk_taken"))return window.GOVUK.checkConsentCookieCategory(t,"settings");if(s[t]){var n=s[t];return window.GOVUK.checkConsentCookieCategory(t,n)}return!1},window.GOVUK.setCookie=function(t,e,n){if(window.GOVUK.checkConsentCookie(t,e)){void 0===n&&(n={});var o=t+"="+e+"; path=/";if(n.days){var i=new Date;i.setTime(i.getTime()+24*n.days*60*60*1e3),o=o+"; expires="+i.toGMTString()}"https:"===document.location.protocol&&(o+="; Secure"),document.cookie=o}},window.GOVUK.getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0,i=n.length;o<i;o++){for(var s=n[o];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return decodeURIComponent(s.substring(e.length))}return null},window.GOVUK.getCookieCategory=function(t){return s[t]},window.GOVUK.deleteCookie=function(t){window.GOVUK.cookie(t,null),window.GOVUK.cookie(t)&&(document.cookie=t+"=;expires="+new Date+";",document.cookie=t+"=;expires="+new Date+";domain="+window.location.hostname+";path=/")},window.GOVUK.deleteUnconsentedCookies=function(){var t=window.GOVUK.getConsentCookie();for(var e in t)if(!t[e])for(var n in s)s[n]===e&&window.GOVUK.deleteCookie(n)}}(window),function(t){"use strict";window.GOVUK=window.GOVUK||{},window.GOVUK.getCurrentLocation=function(){return t.location}}(window),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define("GOVUKFrontend",e):e()}(0,function(){"use strict";(function(){var a,c,l,d;"defineProperty"in Object&&function(){try{var t={};return Object.defineProperty(t,"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),l="Getters & setters cannot be defined on this javascript engine",d="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function u(t,e,n){if(a&&(t===window||t===document||t===Element.prototype||t instanceof Element))return a(t,e,n);if(null===t||!(t instanceof Object||"object"==typeof t))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var o=String(e),i="value"in n||"writable"in n,s="get"in n&&typeof n.get,r="set"in n&&typeof n.set;if(s){if("function"!==s)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(d);Object.__defineGetter__.call(t,o,n.get)}else t[o]=n.value;if(r){if("function"!==r)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(d);Object.__defineSetter__.call(t,o,n.set)}return"value"in n&&(t[o]=n.value),t})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(h){var t,e,n;"DOMTokenList"in this&&(!("classList"in(t=document.createElement("x")))||!t.classList.toggle("x",!1)&&!t.className)||("DOMTokenList"in(e=this)&&e.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(e.DOMTokenList=function(){var i=!0,n=function(t,e,n,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===i||!!o,get:n}):t.__defineGetter__(e,n)};try{n({},"support")}catch(t){i=!1}return function(i,s){var r=this,a=[],c={},l=0,t=0,e=function(t){n(r,t,function(){return u(),a[t]},!1)},d=function(){if(t<=l)for(;t<l;++t)e(t)},u=function(){var t,e,n=arguments,o=/\s+/;if(n.length)for(e=0;e<n.length;++e)if(o.test(n[e]))throw(t=new SyntaxError('String "'+n[e]+'" contains an invalid character')).code=5,t.name="InvalidCharacterError",t;for(""===(a="object"==typeof i[s]?(""+i[s].baseVal).replace(/^\s+|\s+$/g,"").split(o):(""+i[s]).replace(/^\s+|\s+$/g,"").split(o))[0]&&(a=[]),c={},e=0;e<a.length;++e)c[a[e]]=!0;l=a.length,d()};return u(),n(r,"length",function(){return u(),l}),r.toLocaleString=r.toString=function(){return u(),a.join(" ")},r.item=function(t){return u(),a[t]},r.contains=function(t){return u(),!!c[t]},r.add=function(){u.apply(r,t=arguments);for(var t,e,n=0,o=t.length;n<o;++n)e=t[n],c[e]||(a.push(e),c[e]=!0);l!==a.length&&(l=a.length>>>0,"object"==typeof i[s]?i[s].baseVal=a.join(" "):i[s]=a.join(" "),d())},r.remove=function(){u.apply(r,t=arguments);for(var t,e={},n=0,o=[];n<t.length;++n)e[t[n]]=!0,delete c[t[n]];for(n=0;n<a.length;++n)e[a[n]]||o.push(a[n]);l=(a=o).length>>>0,"object"==typeof i[s]?i[s].baseVal=a.join(" "):i[s]=a.join(" "),d()},r.toggle=function(t,e){return u.apply(r,[t]),h!==e?e?(r.add(t),!0):(r.remove(t),!1):c[t]?(r.remove(t),!1):(r.add(t),!0)},r}}()),"classList"in(n=document.createElement("span"))&&(n.classList.toggle("x",!1),n.classList.contains("x")&&(n.classList.constructor.prototype.toggle=function i(t,e){var n=e;if(n!==h)return this[(n=!!n)?"add":"remove"](t),n;var o=!this.contains(t);return this[o?"add":"remove"](t),o})),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a","b"),!t.classList.contains("b"))){var o=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)o.call(this,t[n])}}}(),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a"),t.classList.add("b"),t.classList.remove("a","b"),t.classList.contains("b"))){var o=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)o.call(this,t[n])}}}())}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Element"in this&&"HTMLElement"in this||function(){function t(){return s--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(l(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,n=document.appendChild(document.createElement("body")),o=n.appendChild(document.createElement("iframe")).contentWindow.document,a=Element.prototype=o.appendChild(o.createElement("*")),c={},l=function(t,e){var n,o,i,s=t.childNodes||[],r=-1;if(1===t.nodeType&&t.constructor!==Element)for(n in t.constructor=Element,c)o=c[n],t[n]=o;for(;i=e&&s[++r];)l(i,e);return t},d=document.getElementsByTagName("*"),i=document.createElement,s=100;a.attachEvent("onpropertychange",function(t){for(var e,n=t.propertyName,o=!c.hasOwnProperty(n),i=a[n],s=c[n],r=-1;e=d[++r];)1===e.nodeType&&(o||e[n]===s)&&(e[n]=i);c[n]=i}),a.constructor=Element,a.hasAttribute||(a.hasAttribute=function r(t){return null!==this.getAttribute(t)}),t()||(document.onreadystatechange=t,e=setInterval(t,25)),document.createElement=function u(t){var e=i(String(t).toLowerCase());return l(e)},document.removeChild(n)}else window.HTMLElement=window.Element}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(t){var d=!0,u=function(t,e,n,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===d||!!o,get:n}):t.__defineGetter__(e,n)};try{u({},"support")}catch(e){d=!1}var h=function(t,c,l){u(t.prototype,c,function(){var t,e=this,n="__defineGetter__DEFINE_PROPERTY"+c;if(e[n])return t;if(!(e[n]=!0)===d){for(var o,i=h.mirror||document.createElement("div"),s=i.childNodes,r=s.length,a=0;a<r;++a)if(s[a]._R===e){o=s[a];break}o||(o=i.appendChild(document.createElement("div"))),t=DOMTokenList.call(o,e,l)}else t=new DOMTokenList(e,l);return u(e,c,function(){return t}),delete e[n],t},!0)};h(t.Element,"classList","className"),h(t.HTMLElement,"classList","className"),h(t.HTMLLinkElement,"relList","rel"),h(t.HTMLAnchorElement,"relList","rel"),h(t.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{})}),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t,e){for(var n in this.$module=t[0],this.options={outOf:65,applyOnInit:!0,autoOutdent:!1,outdentAll:!1,chartVisibleText:"Change to table and accessible view",tableVisibleText:"Change to chart view",chartAlertText:"Chart visible",tableAlertText:"Table visible",toggleAfter:!1,returnReference:!1},e)this.options[n]=e[n];this.detectIEVersion(),this.ENABLED=!(this.ie&&this.ie<8),this.$table=t,this.$graphContainer=document.createElement("div"),this.$graphContainer.className="mc-chart-container",this.$graph=document.createElement("div"),this.$graph.setAttribute("aria-hidden","true"),this.$graph.setAttribute("class",this.$table.className),this.$graph.classList.add("mc-chart"),this.chartId=this.getChartId(t),this.options.stacked=this.$table.classList.contains("mc-stacked"),this.options.negative=this.$table.classList.contains("mc-negative");var o=2<this.$table.querySelectorAll("tbody tr")[0].querySelectorAll("th, td").length;if(this.options.multiple=!this.options.stacked&&(this.$table.classList.contains("mc-multiple")||o),this.options.autoOutdent=this.options.autoOutdent||this.$table.classList.contains("mc-auto-outdent"),this.options.outdentAll=this.options.outdentAll||this.$table.classList.contains("mc-outdented"),this.options.multiple&&this.$graph.classList.add("mc-multiple"),this.options.hasCaption=!!this.$table.querySelectorAll("caption").length,this.ENABLED&&(this.apply(),this.options.applyOnInit||this.toggleLink.click()),this.options.returnReference)return this},e.prototype.detectIEVersion=function(){this.ie=function(){for(var t,e=3,n=document.createElement("div"),o=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",e<10&&o[0];);return 4<e?e:t}()},e.prototype.apply=function(){this.ENABLED&&(this.constructChart(),this.addClassesToHeader(),this.applyWidths(),this.insert(),this.$table.classList.add("mc-hidden"),this.applyOutdent())},e.prototype.construct={},e.prototype.construct.thead=function(){var t=document.createElement("div");t.classList.add("mc-thead");var e=document.createElement("div");e.classList.add("mc-tr");for(var n="",o=this.$table.querySelectorAll("thead th"),i=0;i<o.length;i++)n+='<div class="mc-th">',n+=o[i].innerHTML,n+="</div>";return e.innerHTML=n,t.appendChild(e),t},e.prototype.construct.tbody=function(){var t=document.createElement("div");t.classList.add("mc-tbody");for(var e=this.$table.querySelectorAll("tbody tr"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("mc-tr");for(var i="",s=e[n].querySelectorAll("th, td"),r=0;r<s.length;r++)i+='<div class="mc-td">',i+=s[r].innerHTML,i+="</div>";o.innerHTML=i,t.appendChild(o)}return t},e.prototype.construct.caption=function(){return this.$table.querySelector("caption").cloneNode(!0)},e.prototype.construct.toggleLink=function(t){var e=document.createElement("button"),n=document.createElement("span"),o=document.createElement("span");return n.classList.add("mc-toggle-text"),n.innerHTML=t,o.classList.add("govuk-visually-hidden","mc-toggle-status"),o.setAttribute("role","alert"),e.classList.add("govuk-body-s","mc-toggle-button"),e.appendChild(n),e.appendChild(o),e},e.prototype.addToggleClick=function(o,i,s,r){var a=this;this.toggleLink.addEventListener("click",function(t){t.preventDefault();var e=a.toggleLink.querySelector(".mc-toggle-text"),n=a.toggleLink.querySelector(".mc-toggle-status");a.$graphContainer.classList.toggle("mc-hidden"),a.$table.classList.toggle("mc-hidden"),e.innerHTML=e.innerHTML===i?o:i,n.innerHTML=n.innerHTML===r?s:r})},e.prototype.constructChart=function(){var t=this.construct.thead.call(this),e=this.construct.tbody.call(this);if(this.toggleLink=this.construct.toggleLink(this.options.chartVisibleText),this.addToggleClick(this.options.chartVisibleText,this.options.tableVisibleText,this.options.chartAlertText,this.options.tableAlertText),this.options.hasCaption){var n=this.construct.caption.call(this);this.$graph.appendChild(n)}this.options.toggleAfter?this.$table.insertAdjacentElement("afterend",this.toggleLink):this.$table.insertAdjacentElement("beforebegin",this.toggleLink),this.$graph.appendChild(t),this.$graph.appendChild(e)},e.prototype.utils={isFloat:function(t){return!isNaN(parseFloat(t))},stripValue:function(t){return t.replace(/,|\xa3|%|[a-z]/gi,"")},returnMax:function(t){for(var e=0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return e},isNegative:function(t){return t<0}},e.prototype.addClassesToHeader=function(){var t=this.$graph.querySelectorAll(".mc-th"),e=t.length;this.options.stacked&&(t[e-1].classList.add("mc-stacked-header","mc-header-total"),e-=1);for(var n=1;n<e;n++)t[n].classList.add("mc-key-header"),t[n].classList.contains("mc-stacked-header")||t[n].classList.add("mc-key-"+n)},e.prototype.calculateMaxWidth=function(){for(var t=[],e=0,n=this.$graph.querySelectorAll(".mc-tr"),o=0;o<n.length;o++){for(var i=n[o],s=i.querySelectorAll(".mc-td"),r=[],a=1;a<s.length;a++)r.push(s[a]);var c=r.length;if(c){this.options.stacked&&(r[c-1].classList.add("mc-stacked-total"),c-=1);var l=i.querySelector(".mc-td");l&&l.classList.add("mc-key-cell");for(var d=0,u=0;u<c;u++){var h=r[u];h.classList.add("mc-bar-cell"),h.classList.add("mc-bar-"+(u+1));var p=this.utils.stripValue(h.innerText);if(this.utils.isFloat(p)){var m=parseFloat(p,10),f=Math.abs(m);0===m&&h.classList.add("mc-bar-zero"),this.options.negative&&(this.utils.isNegative(m)?(h.classList.add("mc-bar-negative"),e<f&&(e=f)):h.classList.add("mc-bar-positive")),m=f,this.options.stacked?d+=m:(d=m,t.push(m))}}}this.options.stacked&&t.push(d)}var g={};return g.max=parseFloat(this.utils.returnMax(t),10),g.single=parseFloat(this.options.outOf/g.max,10),this.options.negative&&(g.marginLeft=parseFloat(e,10)*g.single,g.maxNegative=parseFloat(e,10)),g},e.prototype.applyWidths=function(){this.dimensions=this.calculateMaxWidth();for(var t=this.$graph.querySelectorAll(".mc-tr"),e=0;e<t.length;e++)for(var n=t[e].querySelectorAll(".mc-bar-cell"),o=0;o<n.length;o++){var i=n[o],s=parseFloat(this.utils.stripValue(i.innerText),10),r=s*this.dimensions.single,a=Math.abs(s),c=Math.abs(r);if(this.options.negative)if(i.classList.contains("mc-bar-positive"))i.style.marginLeft=this.dimensions.marginLeft+"%";else if(a<this.dimensions.maxNegative){var l=(this.dimensions.maxNegative-a)*this.dimensions.single;i.style.marginLeft=l+"%"}i.innerHTML="<span>"+i.innerHTML+"</span>",i.style.width=c+"%"}},e.prototype.insert=function(){var t=document.createElement("span"),e="mc-chart-not-accessible-"+this.chartId;t.innerHTML="This content is not accessible - switch to table",t.className="mc-hidden",t.id=e,this.$graphContainer.setAttribute("aria-labelledby",e),this.$graphContainer.appendChild(this.$graph),this.$graphContainer.appendChild(t),this.$table.insertAdjacentElement("afterend",this.$graphContainer)},e.prototype.applyOutdent=function(){for(var t=this.$graph.querySelectorAll(".mc-bar-cell"),e=0;e<t.length;e++){var n=t[e],o=parseFloat(this.utils.stripValue(n.innerText),10),i=n.querySelector("span"),s=n.querySelector("span").offsetWidth+5,r=n.offsetWidth;this.options.stacked?(r<s&&0<o||o<1)&&n.classList.add("mc-value-overflow"):(0===o&&n.classList.add("mc-bar-outdented"),this.options.autoOutdent&&r<=s||this.options.outdentAll?(n.classList.add("mc-bar-outdented"),i.style.marginLeft="100%",i.style.display="inline-block"):n.classList.add("mc-bar-indented"))}},e.prototype.getChartId=function(t){for(var e=document.querySelectorAll("table.js-barchart-table"),n=null,o=0;o<e.length;o++)e[o]===t&&(n=o);return n},t.MagnaCharta=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},function(r){"use strict";var t=function(t){this.$element=t};t.prototype.init=function(){for(var t=this.$element.querySelectorAll(".js-barchart-table"),e=[],n=0;n<t.length;n++){var o=t[n].className;-1===o.indexOf("mc-chart")&&-1===o.indexOf("js-barchart-table-init")&&e.push(t[n])}for(var i=0;i<e.length;i++){var s=e[i];(new r.Modules.MagnaCharta).start(s,{toggleText:"Change between chart and table"}),s.className=s.className+" js-barchart-table-init"}},r.GovspeakBarchartEnhancement=t}(window.GOVUK,window.jQuery),function(){"use strict";window.GOVUK=window.GOVUK||{};var t=window.GOVUK||{},c=function(t){this.$element=t};c.prototype.init=function(){if(this.campaignCookiesAllowed()){var t=this.$element.querySelectorAll('a[href*="youtube.com"], a[href*="youtu.be"]');0<t.length&&c.insertApiScript();for(var e=0;e<t.length;++e){var n=t[e],o=n.getAttribute("href"),i=n.hasAttribute("data-youtube-player-analytics"),s={link:n};if(i&&(s.tracking={hasTracking:i,category:n.getAttribute("data-youtube-player-analytics-category")}),0<=o.indexOf("/live_stream")){var r=c.parseLivestream(o);!this.hasDisabledEmbed(n)&&r&&(s.channel=r,this.setupVideo(s))}else{var a=c.parseVideoId(o);!this.hasDisabledEmbed(n)&&a&&(s.videoId=a,this.setupVideo(s))}}}},c.prototype.hasDisabledEmbed=function(t){return"off"===t.getAttribute("data-youtube-player")},c.prototype.setupVideo=function(t){var e=c.nextId(),n=t.link,o=t.videoId?t.videoId:t.channel,i=n.parentNode,s=i.parentNode,r=document.createElement("div");r.className+="gem-c-govspeak__youtube-video",r.innerHTML='<span id="'+e+'" data-video-id="'+o+'"></span>',t.title=n.textContent,s.replaceChild(r,i),this.insertVideo(e,t)},c.prototype.insertVideo=function(t,s){var e="",n="";s.channel?(e=s.channel,n="live_stream"):n=s.videoId;var o=function(){new window.YT.Player(t,{videoId:n,host:"https://www.youtube-nocookie.com",playerVars:{enablejsapi:1,origin:window.location.origin,rel:0,disablekb:1,modestbranding:1,channel:e},events:{onReady:function(t){var e=s.title;t.target.getIframe().title=e+" (video)"},onStateChange:function(t){var e=t.data,n=t.target,o={"-1":"VideoUnstarted",0:"VideoEnded",1:"VideoPlaying",2:"VideoPaused",3:"VideoBuffering",5:"VideoCued"};if(o[e]&&s.tracking&&s.tracking.hasTracking&&window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent){var i={category:s.tracking.category,action:o[e],label:{transport:"beacon",label:n.getVideoData&&n.getVideoData().title}};window.GOVUK.analytics.trackEvent(i.category,i.action,i.label)}}}})};o=o.bind(this),c.playerApiReady?o.call():c.queuedInserts.push(o)},c.prototype.campaignCookiesAllowed=function(){var t=window.GOVUK.getConsentCookie();return null===t||t.campaigns},c.nextId=function(){return this.embedCount=this.embedCount||0,this.embedCount+=1,"youtube-"+this.embedCount},c.insertApiScript=function(){if(!this.apiScriptInserted){var t=document.createElement("script");t.src="https://www.youtube.com/player_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),this.apiScriptInserted=!0}},c.parseLivestream=function(t){var e=t.match(/channel=([^&]*)/);if(e)return e[1]},c.parseVideoId=function(t){var e;if(-1<t.indexOf("youtube.com")){var n={};if(1===(e=t.split("?")).length)return;e=e[1].split("&");for(var o=0;o<e.length;o++){var i=e[o].split("=");n[i[0]]=i[1]}return n.v}if(-1<t.indexOf("youtu.be"))return(e=t.split("/")).pop()},c.apiScriptInserted=!1,c.playerApiReady=!1,c.queuedInserts=[],window.onYouTubePlayerAPIReady=function(){c.playerApiReady=!0;for(var t=0;t<c.queuedInserts.length;t++)c.queuedInserts[t].call()},t.GovspeakYoutubeLinkEnhancement=c}(),function(){"use strict";if(document.querySelectorAll&&document.addEventListener){var t,e,n=document.querySelectorAll(".js-header-toggle");for(t=0,e=n.length;t<e;t++)n[t].addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href")?document.getElementById(this.getAttribute("href").substr(1)):document.getElementById(this.getAttribute("data-search-toggle-for")),n=e.getAttribute("class")||"",o=this.getAttribute("class")||"",i=o.match("search-toggle"),s=this.getAttribute("data-show-text")||"Show search",r=this.getAttribute("data-hide-text")||"Hide search";-1!==n.indexOf("js-visible")?(e.setAttribute("class",n.replace(/(^|\s)js-visible(\s|$)/,"")),window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&window.GOVUK.analytics.trackEvent("headerClicked","menuClosed",{label:"none"})):(e.setAttribute("class",n+" js-visible"),window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&window.GOVUK.analytics.trackEvent("headerClicked","menuOpened",{label:"none"})),-1!==o.indexOf("js-visible")?(this.setAttribute("class",o.replace(/(^|\s)js-visible(\s|$)/,"")),i&&(this.innerText=s)):(this.setAttribute("class",o+" js-visible"),i&&(this.innerText=r)),this.setAttribute("aria-expanded","true"!==this.getAttribute("aria-expanded")),e.setAttribute("aria-hidden","false"===e.getAttribute("aria-hidden"))})}}.call(this),function(){for(var t=document.querySelectorAll(".govuk-js-header-toggle"),e=0;e<t.length;e++){t[e].addEventListener("click",function(t){var e=t.target.getAttribute("aria-expanded");window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&("true"===e?window.GOVUK.analytics.trackEvent("headerClicked","menuClosed",{label:"none"}):window.GOVUK.analytics.trackEvent("headerClicked","menuOpened",{label:"none"}))})}}(),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.$module.focus()},t.InitialFocus=e}(window.GOVUK.Modules),function(t){"use strict";var o=t.jQuery,i=t.GOVUK||{},e=function(t,e){this.$el=o(t),this.$extraLinks=this.$el.find("li:not("+e+")"),1<this.$extraLinks.length&&(this.addToggleLink(),this.hideExtraLinks())};e.prototype={toggleText:function(){return 1<this.$extraLinks.length?"+"+this.$extraLinks.length+" others":"+"+this.$extraLinks.length+" other"},addToggleLink:function(){this.$toggleLink=o('<a href="#">'+this.toggleText()+"</a>"),this.$toggleLink.click(o.proxy(this.toggleLinks,this)),this.$toggleLink.insertAfter(this.$el)},toggleLinks:function(t){t.preventDefault(),this.$toggleLink.remove(),this.showExtraLinks()},hideExtraLinks:function(){this.$extraLinks.addClass("visuallyhidden"),o(window).trigger("govuk.pageSizeChanged")},showExtraLinks:function(){this.$extraLinks.removeClass("visuallyhidden"),o(window).trigger("govuk.pageSizeChanged")}},i.PrimaryList=e,i.primaryLinks={init:function(n){o(n).parent().each(function(t,e){new i.PrimaryList(e,n)})}},t.GOVUK=i}(window),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.$module.trackChange=this.trackChange.bind(this),this.$module.fireTrackingChange=this.fireTrackingChange.bind(this),this.$module.addEventListener("change",this.trackChange)},e.prototype.trackChange=function(){var t=this.options[this.selectedIndex];t.hasAttribute("data-track-category")&&t.hasAttribute("data-track-action")&&this.fireTrackingChange(t)},e.prototype.fireTrackingChange=function(t){var e={transport:"beacon"},n=t.getAttribute("data-track-category"),o=t.getAttribute("data-track-action"),i=t.getAttribute("data-track-label"),s=t.getAttribute("data-track-value"),r=t.getAttribute("data-track-dimension"),a=t.getAttribute("data-track-dimension-index"),c=t.getAttribute("data-track-options");if(i&&(e.label=i),s&&(e.value=s),r&&a&&(e["dimension"+a]=r),c)for(var l in c=JSON.parse(c))e[l]=c[l];window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&window.GOVUK.analytics.trackEvent(n,o,e)},t.TrackSelectChange=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.toggleTarget=this.$module.querySelector(".js-class-toggle"),this.$module.addFocusClass=this.addFocusClass.bind(this),this.$module.removeFocusClassFromEmptyInput=this.removeFocusClassFromEmptyInput.bind(this),this.inputIsEmpty()||this.addFocusClass(),this.toggleTarget.addEventListener("focus",this.$module.addFocusClass),this.toggleTarget.addEventListener("blur",this.$module.removeFocusClassFromEmptyInput)},e.prototype.inputIsEmpty=function(){return""===this.toggleTarget.value},e.prototype.addFocusClass=function(){this.toggleTarget.classList.add("focus")},e.prototype.removeFocusClassFromEmptyInput=function(){this.inputIsEmpty()&&this.toggleTarget.classList.remove("focus")},t.GemToggleInputClassOnFocus=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.$module.toggleTrigger=this.$module.querySelector("[data-controls][data-expanded]"),this.$module.toggleTrigger&&(this.$module.toggleClass=this.$module.getAttribute("data-toggle-class")||"js-hidden",this.$module.isTrackable=this.$module.toggleTrigger.hasAttribute("data-track-category")&&this.$module.toggleTrigger.hasAttribute("data-track-action"),this.$module.isTrackable&&(this.$module.trackCategory=this.$module.toggleTrigger.getAttribute("data-track-category"),this.$module.trackAction=this.$module.toggleTrigger.getAttribute("data-track-action")),this.addAriaAttrs(),this.toggleOnClick())},e.prototype.addAriaAttrs=function(){this.$module.toggleTrigger.setAttribute("role","button"),this.$module.toggleTrigger.setAttribute("aria-controls",this.$module.toggleTrigger.getAttribute("data-controls")),this.$module.toggleTrigger.setAttribute("aria-expanded",this.$module.toggleTrigger.getAttribute("data-expanded")),this.$module.targets=this.getTargetElements();for(var t=0;t<this.$module.targets.length;t++)this.$module.targets[t].setAttribute("aria-live","polite"),this.$module.targets[t].setAttribute("role","region")},e.prototype.getTargetElements=function(){var t="#"+this.$module.toggleTrigger.getAttribute("aria-controls").split(" ").join(", #");return this.$module.querySelectorAll(t)},e.prototype.toggleOnClick=function(){var i=this;this.$module.toggleTrigger.addEventListener("click",function(t){if(t.preventDefault(),"true"===this.getAttribute("aria-expanded")){this.setAttribute("aria-expanded",!1);for(var e=0;e<i.$module.targets.length;e++)i.$module.targets[e].classList.add(i.$module.toggleClass)}else{this.setAttribute("aria-expanded",!0);for(var n=0;n<i.$module.targets.length;n++)i.$module.targets[n].classList.remove(i.$module.toggleClass)}var o=this.getAttribute("data-toggled-text");"string"==typeof o&&(this.setAttribute("data-toggled-text",this.innerText),this.innerText=o),window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&i.$module.isTrackable&&i.track()})},e.prototype.track=function(){var t={label:this.$module.toggleTrigger.getAttribute("data-toggled-text")||this.$module.toggleTrigger.innerText};window.GOVUK.analytics.trackEvent(this.$module.trackCategory,this.$module.trackAction,t)},t.GemToggle=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(){}e.prototype.start=function(t){this.$module=t[0],this.$module.handleClick=this.handleClick.bind(this);var e=this;this.$module.addEventListener("click",function(t){e.$module.handleClick(t.target)})},e.prototype.handleClick=function(t){var e={transport:"beacon"};if(t.hasAttribute("data-track-category")||t.hasAttribute("data-track-action")||(t=t.closest("[data-track-category][data-track-action]")),t){var n=t.getAttribute("data-track-category"),o=t.getAttribute("data-track-action"),i=t.getAttribute("data-track-label"),s=t.getAttribute("data-track-value"),r=t.getAttribute("data-track-dimension"),a=t.getAttribute("data-track-dimension-index"),c=t.getAttribute("data-track-options");if(i&&(e.label=i),s&&(e.value=s),r&&a&&(e["dimension"+a]=r),c)for(var l in c=JSON.parse(c))e[l]=c[l];window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&window.GOVUK.analytics.trackEvent(n,o,e)}},t.GemTrackClick=e}(window.GOVUK.Modules),function(){"use strict";window.GOVUK=window.GOVUK||{},window.GOVUK.triggerEvent=function(t,e,n){var o,i=n||{};i.bubbles=!0,i.cancelable=!0,"function"==typeof window.CustomEvent?o=new window.CustomEvent(e,i):(o=document.createEvent("CustomEvent")).initCustomEvent(e,i.bubbles,i.cancelable,i.detail),t.dispatchEvent(o)}}(window),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t,this.sectionClass="gem-c-accordion__section",this.moduleId=this.$module.getAttribute("id"),this.sections=this.$module.querySelectorAll("."+this.sectionClass),this.openAllButton="",this.controlsClass="gem-c-accordion__controls",this.openAllClass="gem-c-accordion__open-all",this.openAllTextClass="gem-c-accordion__open-all-text",this.sectionHeaderClass="gem-c-accordion__section-header",this.sectionHeadingClass="gem-c-accordion__section-heading",this.sectionSummaryClass="gem-c-accordion__section-summary",this.sectionButtonClass="gem-c-accordion__section-button",this.sectionExpandedClass="gem-c-accordion__section--expanded",this.sectionInnerContent="gem-c-accordion__section-content",this.toggleLinkClass="js-toggle-link",this.sectionShowHideIconClass="gem-c-accordion__toggle-link",this.sectionShowHideTextClass="gem-c-accordion__toggle-text",this.upChevonIconClass="gem-c-accordion-nav__chevron",this.downChevonIconClass="gem-c-accordion-nav__chevron--down",this.$module.actions={},this.$module.actions.locale=this.$module.getAttribute("data-locale"),this.$module.actions.showText=this.$module.getAttribute("data-show-text"),this.$module.actions.hideText=this.$module.getAttribute("data-hide-text"),this.$module.actions.showAllText=this.$module.getAttribute("data-show-all-text"),this.$module.actions.hideAllText=this.$module.getAttribute("data-hide-all-text"),
this.$module.actions.thisSectionVisuallyHidden=this.$module.getAttribute("data-this-section-visually-hidden")}e.prototype.init=function(){this.browserSupportsSessionStorage=n.checkForSessionStorage(),this.$module.classList.add("gem-c-accordion--active"),this.initControls(),this.initSectionHeaders(),"true"===this.$module.getAttribute("data-anchor-navigation")&&(this.openByAnchorOnLoad(),this.addEventListenersForAnchors());var t=this.checkIfAllSectionsOpen();this.updateOpenAllButton(t)},e.prototype.initControls=function(){this.openAllButton=document.createElement("button"),this.openAllButton.setAttribute("class",this.openAllClass),this.openAllButton.setAttribute("aria-expanded","false");var t=document.createElement("span");t.classList.add(this.upChevonIconClass),this.openAllButton.appendChild(t);var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.openAllButton),this.$module.insertBefore(e,this.$module.firstChild);var n=document.createElement("span");n.classList.add(this.openAllTextClass),this.openAllButton.insertBefore(n,this.openAllButton.childNodes[0]||null),this.openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},e.prototype.initSectionHeaders=function(){nodeListForEach(this.sections,function(t,e){var n=t.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(n,e),this.setExpanded(this.isExpanded(t),t),n.addEventListener("click",this.onSectionToggle.bind(this,t)),this.setInitialState(t)}.bind(this))},e.prototype.initHeaderAttributes=function(t,e){var n=t.querySelector("."+this.sectionButtonClass),o=t.querySelector("."+this.sectionHeadingClass),i=t.querySelector("."+this.sectionSummaryClass),s=document.createElement("button");s.setAttribute("id",this.moduleId+"-heading-"+(e+1)),s.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));var r=document.createElement("span");r.classList.add(this.sectionShowHideIconClass,this.toggleLinkClass);var a=document.createElement("span");a.classList.add("govuk-visually-hidden"),a.innerHTML=", ";var c=document.createElement("span");c.classList.add("govuk-visually-hidden"),c.innerHTML=this.$module.actions.thisSectionVisuallyHidden,this.$module.actions.locale&&(c.lang=this.filterLocale("this_section_visually_hidden"));var l=document.createElement("span"),d=document.createElement("span");d.classList.add(this.upChevonIconClass),r.appendChild(d),l.classList.add(this.sectionShowHideTextClass),r.insertBefore(l,r.childNodes[0]||null);for(var u=0;u<n.attributes.length;u++){var h=n.attributes.item(u);s.setAttribute(h.nodeName,h.nodeValue)}s.innerHTML=n.innerHTML,o.removeChild(n),o.appendChild(s),s.appendChild(a),null!=i&&(s.setAttribute("aria-describedby",this.moduleId+"-summary-"+(e+1)),s.appendChild(i)),s.appendChild(r),s.appendChild(c)},e.prototype.onSectionToggle=function(t){var e=this.isExpanded(t);this.setExpanded(!e,t),this.storeState(t)},e.prototype.onOpenOrCloseAllToggle=function(){var e=this,t=this.sections,n=!this.checkIfAllSectionsOpen();nodeListForEach(t,function(t){e.setExpanded(n,t),e.storeState(t)}),e.updateOpenAllButton(n)},e.prototype.setExpanded=function(t,e){var n=e.querySelector("."+this.upChevonIconClass),o=e.querySelector("."+this.sectionShowHideTextClass),i=e.querySelector("."+this.sectionButtonClass),s=t?this.$module.actions.hideText:this.$module.actions.showText;o.innerHTML=s,i.setAttribute("aria-expanded",t),i.classList.add(this.toggleLinkClass),this.$module.actions.locale&&(o.lang=this.filterLocale(t?"hide_text":"show_text")),t?(e.classList.add(this.sectionExpandedClass),n.classList.remove(this.downChevonIconClass)):(e.classList.remove(this.sectionExpandedClass),n.classList.add(this.downChevonIconClass));var r=this.checkIfAllSectionsOpen();this.updateOpenAllButton(r)},e.prototype.isExpanded=function(t){return t.classList.contains(this.sectionExpandedClass)},e.prototype.checkIfAllSectionsOpen=function(){return this.sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},e.prototype.updateOpenAllButton=function(t){var e=this.openAllButton.querySelector("."+this.upChevonIconClass),n=this.openAllButton.querySelector("."+this.openAllTextClass),o=t?this.$module.actions.hideAllText:this.$module.actions.showAllText;this.openAllButton.setAttribute("aria-expanded",t),n.innerHTML=o,this.$module.actions.locale&&(n.lang=this.filterLocale(t?"hide_all_text":"show_all_text")),t?e.classList.remove(this.downChevonIconClass):e.classList.add(this.downChevonIconClass)};var n={checkForSessionStorage:function(){var t,e="this is the test string";try{return window.sessionStorage.setItem(e,e),t=window.sessionStorage.getItem(e)===e.toString(),window.sessionStorage.removeItem(e),t}catch(n){"undefined"!=typeof console&&"undefined"!=typeof console.log||console.log("Notice: sessionStorage not available.")}}};e.prototype.storeState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),o=e.getAttribute("aria-expanded");void 0!==n||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==o||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria expanded present in accordion section heading.")),n&&o&&window.sessionStorage.setItem(n,o)}}},e.prototype.setInitialState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),o=n?window.sessionStorage.getItem(n):null;null!==o&&this.setExpanded("true"===o,t)}}},e.prototype.openByAnchorOnLoad=function(){var t=window.location.hash.split("#")[1];window.location.hash&&document.getElementById(t)&&this.openForAnchor(t)},e.prototype.addEventListenersForAnchors=function(){nodeListForEach(this.$module.querySelectorAll("."+this.sectionInnerContent+' a[href*="#"]'),function(t){t.pathname===window.location.pathname&&t.addEventListener("click",this.openForAnchor.bind(this,t.hash.split("#")[1]))}.bind(this))},e.prototype.openForAnchor=function(t){var e=document.getElementById(t),n=this.getContainingSection(e);this.setExpanded(!0,n)},e.prototype.getContainingSection=function(t){for(;!t.classList.contains(this.sectionClass);)t=t.parentElement;return t},e.prototype.filterLocale=function(t){return this.$module.actions.locale&&-1!==this.$module.actions.locale.indexOf("{")?JSON.parse(this.$module.actions.locale)[t]:this.$module.actions.locale?this.$module.actions.locale:void 0},t.GemAccordion=e}(window.GOVUK.Modules),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("GOVUKFrontend",e):t.GOVUKFrontend=e()}(this,function(){"use strict";function t(t){this.$module=t,this.debounceFormSubmitTimer=null}(function(){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(t){t.constructor?t.Window=t.constructor:(t.Window=t.constructor=new Function("return function Window() {}")()).prototype=this}(this)}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"Element"in this&&"HTMLElement"in this||function(){function t(){return s--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(l(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,n=document.appendChild(document.createElement("body")),o=n.appendChild(document.createElement("iframe")).contentWindow.document,a=Element.prototype=o.appendChild(o.createElement("*")),c={},l=function(t,e){var n,o,i,s=t.childNodes||[],r=-1;if(1===t.nodeType&&t.constructor!==Element)for(n in t.constructor=Element,c)o=c[n],t[n]=o;for(;i=e&&s[++r];)l(i,e);return t},d=document.getElementsByTagName("*"),i=document.createElement,s=100;a.attachEvent("onpropertychange",function(t){for(var e,n=t.propertyName,o=!c.hasOwnProperty(n),i=a[n],s=c[n],r=-1;e=d[++r];)1===e.nodeType&&(o||e[n]===s)&&(e[n]=i);c[n]=i}),a.constructor=Element,a.hasAttribute||(a.hasAttribute=function r(t){return null!==this.getAttribute(t)}),t()||(document.onreadystatechange=t,e=setInterval(t,25)),document.createElement=function u(t){var e=i(String(t).toLowerCase());return l(e)},document.removeChild(n)}else window.HTMLElement=window.Element}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var a,c,l,d;"defineProperty"in Object&&function(){try{var t={};return Object.defineProperty(t,"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),l="Getters & setters cannot be defined on this javascript engine",d="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function u(t,e,n){if(a&&(t===window||t===document||t===Element.prototype||t instanceof Element))return a(t,e,n);if(null===t||!(t instanceof Object||"object"==typeof t))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var o=String(e),i="value"in n||"writable"in n,s="get"in n&&typeof n.get,r="set"in n&&typeof n.set;if(s){if("function"!==s)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(d);Object.__defineGetter__.call(t,o,n.get)}else t[o]=n.value;if(r){if("function"!==r)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(l);if(i)throw new TypeError(d);Object.__defineSetter__.call(t,o,n.set)}return"value"in n&&(t[o]=n.value),t})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(l){(function(t){if(!("Event"in t))return!1;if("function"==typeof t.Event)return!0;try{return new Event("click"),!0}catch(e){return!1}})(this)||function(){function d(t,e){for(var n=-1,o=t.length;++n<o;)if(n in t&&t[n]===e)return n;return-1}var i={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var t=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function s(t,e){if(!t)throw new Error("Not enough arguments");var n;if("createEvent"in document){n=document.createEvent("Event");var o=!(!e||e.bubbles===l)&&e.bubbles,i=!(!e||e.cancelable===l)&&e.cancelable;return n.initEvent(t,o,i),n}return(n=document.createEventObject()).type=t,n.bubbles=!(!e||e.bubbles===l)&&e.bubbles,n.cancelable=!(!e||e.cancelable===l)&&e.cancelable,n},t&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:t}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function r(t,e){var l=this,n=t,o=e;if(l===window&&n in i)throw new Error("In IE8 the event: "+n+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");l._events||(l._events={}),l._events[n]||(l._events[n]=function(t){var e,n=l._events[t.type].list,o=n.slice(),i=-1,s=o.length;for(t.preventDefault=function r(){!1!==t.cancelable&&(t.returnValue=!1)},t.stopPropagation=function a(){t.cancelBubble=!0},t.stopImmediatePropagation=function c(){t.cancelBubble=!0,t.cancelImmediate=!0},t.currentTarget=l,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||l,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++i<s&&!t.cancelImmediate;)i in o&&-1!==d(n,e=o[i])&&"function"==typeof e&&e.call(l,t)},l._events[n].list=[],l.attachEvent&&l.attachEvent("on"+n,l._events[n])),l._events[n].list.push(o)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function a(t,e){var n,o=this,i=t,s=e;o._events&&o._events[i]&&o._events[i].list&&-1!==(n=d(o._events[i].list,s))&&(o._events[i].list.splice(n,1),o._events[i].list.length||(o.detachEvent&&o.detachEvent("on"+i,o._events[i]),delete o._events[i]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function c(t){if(!arguments.length)throw new Error("Not enough arguments");if(!t||"string"!=typeof t.type)throw new Error("DOM Events Exception 0");var e=this,n=t.type;try{if(!t.bubbles){t.cancelBubble=!0;var o=function(t){t.cancelBubble=!0,(e||window).detachEvent("on"+n,o)};this.attachEvent("on"+n,o)}this.fireEvent("on"+n,t)}catch(i){for(t.target=e;"_events"in(t.currentTarget=e)&&"function"==typeof e._events[n]&&e._events[n].call(e,t),"function"==typeof e["on"+n]&&e["on"+n].call(e,t),(e=9===e.nodeType?e.parentWindow:e.parentNode)&&!t.cancelBubble;);}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function A(e){var n,t=Array,o=Object,i=o.prototype,s=t.prototype,r=function r(){},a=i.toString,c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,l=Function.prototype.toString,d=function d(t){try{return l.call(t),!0}catch(e){return!1}},u="[object Function]",h="[object GeneratorFunction]";n=function n(t){if("function"!=typeof t)return!1;if(c)return d(t);var e=a.call(t);return e===u||e===h};var p=s.slice,m=s.concat,f=s.push,g=Math.max,b=this;if(!n(b))throw new TypeError("Function.prototype.bind called on incompatible "+b);for(var v,w=p.call(arguments,1),y=function(){if(this instanceof v){var t=b.apply(this,m.call(w,p.call(arguments)));return o(t)===t?t:this}return b.apply(e,m.call(w,p.call(arguments)))},k=g(0,b.length-w.length),E=[],C=0;C<k;C++)f.call(E,"$"+C);return v=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this, arguments); }")(y),b.prototype&&(r.prototype=b.prototype,v.prototype=new r,r.prototype=null),v}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});var n=32,e=1;return t.prototype.handleKeyDown=function(t){var e=t.target;"button"===e.getAttribute("role")&&t.keyCode===n&&(t.preventDefault(),e.click())},t.prototype.debounce=function(t){if("true"===t.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(t.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3*e))},t.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)},t}),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},window.GOVUK.Modules.Button=window.GOVUKFrontend,window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t,this.somethingIsWrongForm=this.$module.querySelector("#something-is-wrong"),this.surveyForm=this.$module.querySelector("#page-is-not-useful"),this.prompt=this.$module.querySelector(".js-prompt"),this.forms=this.$module.querySelectorAll(".js-feedback-form"),this.toggleForms=this.$module.querySelectorAll(".js-toggle-form"),this.closeForms=this.$module.querySelectorAll(".js-close-form"),this.activeForm=!1,this.pageIsUsefulButton=this.$module.querySelector(".js-page-is-useful"),this.pageIsNotUsefulButton=this.$module.querySelector(".js-page-is-not-useful"),this.somethingIsWrongButton=this.$module.querySelector(".js-something-is-wrong"),this.promptQuestions=this.$module.querySelectorAll(".js-prompt-questions"),this.promptSuccessMessage=this.$module.querySelector(".js-prompt-success"),this.surveyWrapper=this.$module.querySelector("#survey-wrapper"),this.jshiddenClass="js-hidden"}e.prototype.init=function(){this.setInitialAriaAttributes(),this.setHiddenValues();for(var t=0;t<this.toggleForms.length;t++)this.toggleForms[t].addEventListener("click",function(t){t.preventDefault();var e=t.target;this.toggleForm(e.getAttribute("aria-controls")),this.trackEvent(this.getTrackEventParams(e)),this.updateAriaAttributes(e)}.bind(this));for(var e=0;e<this.closeForms.length;e++)this.closeForms[e].addEventListener("click",function(t){t.preventDefault();var e=t.target,n=e.getAttribute("aria-controls");this.toggleForm(n),this.trackEvent(this.getTrackEventParams(e)),this.setInitialAriaAttributes(),this.revealInitialPrompt();var o=".js-"+n;this.$module.querySelector(o).focus()}.bind(this));if(this.pageIsUsefulButton.addEventListener("click",function(t){t.preventDefault(),this.trackEvent(this.getTrackEventParams(this.pageIsUsefulButton)),this.showFormSuccess(),this.revealInitialPrompt()}.bind(this)),this.pageIsNotUsefulButton.addEventListener("click",function(){var t,e="111111111.1111111111";t=null===window.GOVUK.cookie("_ga")||""===window.GOVUK.cookie("_ga")?e:window.GOVUK.cookie("_ga").split(".").slice(-2).join("."),this.setHiddenValuesNotUsefulForm(t)}.bind(this)),"function"==typeof window.URLSearchParams)for(var n=0;n<this.forms.length;n++)this.forms[n].addEventListener("submit",function(t){t.preventDefault();var e=t.target,n=new XMLHttpRequest,o=e.getAttribute("action"),i=new FormData(e);i=new URLSearchParams(i).toString(),n.open("POST",o,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===n.readyState&&200===n.status?(this.trackEvent(this.getTrackEventParams(e)),this.showFormSuccess(n.message),this.revealInitialPrompt(),this.setInitialAriaAttributes(),this.activeForm.classList.toggle(this.jshiddenClass)):(this.showError(n),this.enableSubmitFormButton(e))}.bind(this),this.disableSubmitFormButton(e),n.send(i)}.bind(this))},e.prototype.disableSubmitFormButton=function(t){t.querySelector('[type="submit"]').setAttribute("disabled",!0)},e.prototype.enableSubmitFormButton=function(t){t.querySelector('[type="submit"]').removeAttribute("disabled")},e.prototype.setInitialAriaAttributes=function(){for(var t=0;t<this.forms.length;t++)this.forms[t].setAttribute("aria-hidden",!0);this.pageIsNotUsefulButton.setAttribute("aria-expanded",!1),this.somethingIsWrongButton.setAttribute("aria-expanded",!1)},e.prototype.setHiddenValues=function(){var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","javascript_enabled"),t.setAttribute("value",!0),this.somethingIsWrongForm.appendChild(t);var e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name","referrer"),e.setAttribute("value",document.referrer||"unknown"),this.somethingIsWrongForm.appendChild(e),this.somethingIsWrongForm.invalidInfoError=["<h2>Sorry, we\u2019re unable to send your message as you haven\u2019t given us any information.</h2>"," <p>Please tell us what you were doing or what went wrong</p>"].join("")},e.prototype.setHiddenValuesNotUsefulForm=function(t){var e=window.location.pathname.replace(/[^\s=?&]+(?:@|%40)[^\s=?&]+/,"[email]"),n=encodeURI(e);if(this.surveyForm.invalidInfoError=["<h2>Sorry, we\u2019re unable to send your message as you haven\u2019t given us a valid email address.</h2>"," <p>Enter an email address in the correct format, like name@example.com</p>"].join(""),0===document.querySelectorAll('[name="email_survey_signup[ga_client_id]"]').length){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","email_survey_signup[ga_client_id]"),o.setAttribute("value",t||"0"),this.surveyForm.appendChild(o)}if(0===document.querySelectorAll(".gem-c-feedback__email-link#take-survey").length){var i=document.createElement("a");i.setAttribute("href","https://www.smartsurvey.co.uk/s/gov-uk-banner/?c="+n+"&amp;gcl="+t),i.setAttribute("class","gem-c-feedback__email-link govuk-link"),i.setAttribute("id","take-survey"),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener noreferrer"),i.innerHTML="Don\u2019t have an email address?",this.surveyWrapper.appendChild(i)}},e.prototype.updateAriaAttributes=function(t){t.setAttribute("aria-expanded",!0);var e=t.getAttribute("aria-controls");document.querySelector("#"+e).setAttribute("aria-hidden",!1)},e.prototype.toggleForm=function(t){this.activeForm=this.$module.querySelector("#"+t),this.activeForm.classList.toggle(this.jshiddenClass),this.prompt.classList.toggle(this.jshiddenClass),!this.activeForm.classList.contains(this.jshiddenClass)?this.activeForm.querySelector(".gem-c-input").focus():this.activeForm=!1},e.prototype.getTrackEventParams=function(t){return{category:t.getAttribute("data-track-category"),action:t.getAttribute("data-track-action")}},e.prototype.trackEvent=function(t){window.GOVUK.analytics&&window.GOVUK.analytics.trackEvent&&window.GOVUK.analytics.trackEvent(t.category,t.action)},e.prototype.showError=function(t){var e=["<h2>Sorry, we\u2019re unable to receive your message right now.</h2>"," <p>If the problem persists, we have other ways for you to provide",' feedback on the <a href="/contact/govuk">contact page</a>.</p>'].join("");t="response"in t?"object"==typeof t.response&&null!==t.response?"email survey sign up failure"===t.response.message?e:t.response.message:e:422===t.status&&this.activeForm.invalidInfoError||e;var n=this.activeForm.querySelector(".js-errors");n.innerHTML=t,n.classList.remove(this.jshiddenClass),n.focus()},e.prototype.showFormSuccess=function(){for(var t=0;t<this.promptQuestions.length;t++)this.promptQuestions[t].classList.add(this.jshiddenClass);this.promptSuccessMessage.classList.remove(this.jshiddenClass),this.promptSuccessMessage.focus()},e.prototype.revealInitialPrompt=function(){this.prompt.classList.remove(this.jshiddenClass),this.prompt.focus()},t.Feedback=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t}e.prototype.init=function(){-1===this.$module.className.indexOf("disable-youtube")&&this.embedYoutube(),this.createBarcharts()},e.prototype.embedYoutube=function(){new window.GOVUK.GovspeakYoutubeLinkEnhancement(this.$module).init()},e.prototype.createBarcharts=function(){new window.GOVUK.GovspeakBarchartEnhancement(this.$module).init()},t.Govspeak=e}(window.GOVUK.Modules),function(t,e){"use strict";var h=e.$,o=h(e);t.HighlightActiveSectionHeading=function(){var d=this,t=!0,e=!0,n=50,u=[];d.getWindowDimensions=function(){return{height:o.height(),width:o.width()}},d.getWindowPositions=function(){return{scrollTop:o.scrollTop()}},d.getElementOffset=function(t){return t.offset()},d.start=function(t){o.resize(d.hasResized),o.scroll(d.hasScrolled),setInterval(d.checkResize,n),setInterval(d.checkScroll,n),d.$anchors=t.find(".js-page-contents a"),d.getAnchors(),d.checkResize(),d.checkScroll()},d.hasResized=function(){return t=!0},d.hasScrolled=function(){return e=!0},d.checkResize=function(){t&&(e=!(t=!1))},d.checkScroll=function(){e&&(e=!1,d.getWindowDimensions().width<=768?d.removeActiveItem():d.updateActiveNavItem())},d.getAnchors=function(){h.each(d.$anchors,function(){var t=h(this).attr("href");u.push(t)})},d.getHeadingPosition=function(t){return t.offset()},d.getNextHeadingPosition=function(t){return t.offset()},d.getFooterPosition=function(t){return t.offset()},d.getDistanceBetweenHeadings=function(t,e){return e-t},d.updateActiveNavItem=function(){var c=d.getWindowPositions().scrollTop,l=d.getFooterPosition(h("#footer"));h.each(d.$anchors,function(t){var e=u[t],n=u[t+1],o=h(e),i=h(n),s=d.getHeadingPosition(o);if(s){if(s=s.top,s-=53,n)var r=d.getNextHeadingPosition(i).top;var a=d.getDistanceBetweenHeadings(s,r);(a?s<=c&&c<s+a:s<=c&&c<l.top)&&d.setActiveItem(e)}})},d.setActiveItem=function(t){d.$anchors.removeClass("active"),d.$anchors.filter("[href='"+t+"']").addClass("active")},d.removeActiveItem=function(){d.$anchors.removeClass("active")}}}(window.GOVUK.Modules,window),function(){"use strict";function t(){this.controller=null,this.view=null,this.start=function(t){this.view=new e(t),this.controller=new n(this.view),this.controller.init()}}function e(t){function e(e){return function(t){t.preventDefault(),e()}}var s=this;this.$pageIsUsefulButton=t.find(".js-page-is-useful"),this.$pageIsNotUsefulButton=t.find(".js-page-is-not-useful"),this.$somethingIsWrongButton=t.find(".js-something-is-wrong"),this.$feedbackFormContainer=t.find(".js-feedback-form"),this.$feedbackForm=s.$feedbackFormContainer.find("form"),this.$feedbackFormSubmitButton=s.$feedbackFormContainer.find("[type=submit]"),this.$feedbackFormCloseButton=s.$feedbackFormContainer.find(".js-close-feedback-form"),this.$prompt=t.find(".js-prompt"),this.$refocus=this.$prompt,this.onPageIsUsefulButtonClicked=function(t){s.$pageIsUsefulButton.on("click",e(t))},this.onPageIsNotUsefulButtonClicked=function(t){s.$pageIsNotUsefulButton.on("click",e(t))},this.onSomethingIsWrongButtonClicked=function(t){s.$somethingIsWrongButton.on("click",e(t))},this.onFeedbackFormCloseButtonClicked=function(t){s.$feedbackFormCloseButton.on("click",e(t))},this.onSubmitFeedbackForm=function(t){s.$feedbackForm.on("submit",e(t))},this.showSuccess=function(){s.$prompt.html('<span id="feedback-success-message">Thanks for your feedback.</span>'),s.$prompt.hasClass("js-hidden")&&s.toggleFeedbackForm(),s.$prompt.attr("aria-labelledby","feedback-success-message"),s.$prompt.focus()},this.toggleFeedbackForm=function(){s.$prompt.toggleClass("js-hidden"),s.$feedbackFormContainer.toggleClass("js-hidden");var t=!s.$feedbackFormContainer.hasClass("js-hidden");s.updateAriaAttributes(t),t?$(".form-control",s.$feedbackFormContainer).first().focus():this.$refocus.focus()},this.updateAriaAttributes=function(t){s.$feedbackFormContainer.attr("aria-hidden",!t),$("[aria-controls=improveThisPageForm]").attr("aria-expanded",t)},this.feedbackFormContainerData=function(){return s.$feedbackFormContainer.find("input, textarea").serialize()},this.feedbackFormContainerTrackEventParams=function(){return s.getTrackEventParams(s.$feedbackFormContainer)},this.setPageIsNotUsefulFocus=function(){this.$refocus=this.$pageIsNotUsefulButton},this.setSomethingIsWrongFocus=function(){this.$refocus=this.$somethingIsWrongButton},this.pageIsUsefulTrackEventParams=function(){return s.getTrackEventParams(s.$pageIsUsefulButton)},this.pageIsNotUsefulTrackEventParams=function(){return s.getTrackEventParams(s.$pageIsNotUsefulButton)},this.somethingIsWrongTrackEventParams=function(){return s.getTrackEventParams(s.$somethingIsWrongButton)},this.getTrackEventParams=function(t){return{category:t.data("track-category"),action:t.data("track-action")}},this.renderErrors=function(t){this.clearErrors();var i=[];$.each(t,function(o,t){$.each(t,function(t,e){var n=o.charAt(0).toUpperCase()+o.slice(1)+" "+e+".";s.addErrorToField(o,n)||i.push(n)})}),i.length&&s.addGenericError('<h1 class="heading-medium error-summary-heading" id="generic-error-message">There is a problem</h1>'+$("<p>").text(i.join(" ")).html()),s.focusFirstError()},this.clearErrors=function(){$(".form-group",s.$feedbackFormContainer).removeClass("error"),$(".error-message, .error-summary",s.$feedbackFormContainer).remove(),$("[name]",s.$feedbackFormContainer).attr({"aria-describedby":"","aria-invalid":""})},this.focusFirstError=function(){$(".error-summary, .form-group.error .form-control",s.$feedbackFormContainer).first().focus()},this.addErrorToField=function(t,e){var n=s.$feedbackFormContainer.find('[name="'+t+'"]'),o=n.parents(".form-group");if(!n.length||!o.length)return!1;var i=s.generateIdFromError(e);return o.addClass("error"),$("label",o).append($("<span />",{"class":"error-message",text:e,id:i})),n.attr({"aria-describedby":i,"aria-invalid":"true"}),!0},this.addGenericError=function(t){var e=$("<div/>",{"class":"error-summary",role:"group","aria-labelledby":"generic-error-message",html:t,tabindex:-1});$(".js-errors",s.$feedbackFormContainer).html(e)},this.generateIdFromError=function(t){return"error-"+t.toString().toLowerCase().trim().replace(/&/g,"-and-").replace(/[\s\W-]+/g,"-")},this.disableSubmitFeedbackButton=function(){s.$feedbackFormSubmitButton.prop("disabled",!0)},this.enableSubmitFeedbackButton=function(){s.$feedbackFormSubmitButton.removeAttr("disabled")}}function n(e){var n=this;this.init=function(){n.bindPageIsUsefulButton(),n.bindPageIsNotUsefulButton(),n.bindSomethingIsWrongButton(),n.bindSubmitFeedbackButton(),this.bindCloseFeedbackFormButton(),e.updateAriaAttributes(!1)},this.bindPageIsUsefulButton=function(){var t=function(){n.trackEvent(e.pageIsUsefulTrackEventParams()),e.showSuccess()};e.onPageIsUsefulButtonClicked(t)},this.bindPageIsNotUsefulButton=function(){var t=function(){n.trackEvent(e.pageIsNotUsefulTrackEventParams()),e.setPageIsNotUsefulFocus(),e.toggleFeedbackForm()};e.onPageIsNotUsefulButtonClicked(t)},this.bindSomethingIsWrongButton=function(){var t=function(){n.trackEvent(e.somethingIsWrongTrackEventParams()),e.setSomethingIsWrongFocus(),e.toggleFeedbackForm()};e.onSomethingIsWrongButtonClicked(t)},this.bindCloseFeedbackFormButton=function(){var t=function(){e.toggleFeedbackForm()};e.onFeedbackFormCloseButtonClicked(t)},this.bindSubmitFeedbackButton=function(){e.onSubmitFeedbackForm(n.handleSubmitFeedback)},this.handleSubmitFeedback=function(){$.ajax({type:"POST",url:"/contact/govuk/page_improvements",data:e.feedbackFormContainerData(),beforeSend:e.disableSubmitFeedbackButton}).done(function(){n.trackEvent(e.feedbackFormContainerTrackEventParams()),e.showSuccess()}).fail(function(t){e.enableSubmitFeedbackButton(),422===t.status?e.renderErrors(t.responseJSON.errors):(e.clearErrors(),e.addGenericError(['<h1 class="heading-medium error-summary-heading" id="generic-error-message">',"  Sorry, we\u2019re unable to receive your message right now. ","</h1>","<p>If the problem persists, we have other ways for you to provide",' feedback on the <a href="/contact/govuk">contact page</a>.</p>'].join("")),e.focusFirstError())})},this.trackEvent=function(t){GOVUK.analytics&&GOVUK.analytics.trackEvent&&GOVUK.analytics.trackEvent(t.category,t.action)}}window.GOVUK.Modules.ImproveThisPage=t}();